(self.webpackChunk_jup_ag_terminal=self.webpackChunk_jup_ag_terminal||[]).push([[50],{852:(e,t,n)=>{"use strict";function r(e){return"version"in e}n.d(t,{Y:()=>r})},2638:(e,t,n)=>{"use strict";n.d(t,{El:()=>i.E,Sg:()=>a,bI:()=>c.b,gK:()=>o.g,rh:()=>f.r,MD:()=>u,w5:()=>i.w,Mj:()=>l.M,vT:()=>c.v});var r=n(62643),s=n(96540),i=n(39707);const a=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const a=(0,s.useMemo)((()=>new r.Connection(t,n)),[t,n]);return s.createElement(i.E.Provider,{value:{connection:a}},e)};var o=n(59921),c=n(62922);function u(){const{publicKey:e,signTransaction:t,signAllTransactions:n}=(0,c.v)();return(0,s.useMemo)((()=>e&&t&&n?{publicKey:e,signTransaction:t,signAllTransactions:n}:void 0),[e,t,n])}var l=n(53803),f=n(56855)},3149:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r="solana:signTransaction"},17251:(e,t,n)=>{"use strict";n.d(t,{KC:()=>A,KJ:()=>v,L5:()=>M,NW:()=>W,PV:()=>C,YO:()=>g,Yj:()=>x,ai:()=>S,au:()=>I,bz:()=>p,eu:()=>E,g1:()=>T,lq:()=>k,me:()=>b,vA:()=>f,vt:()=>d,zM:()=>y}),n(96763);class r extends TypeError{constructor(e,t){let n;const{message:r,explanation:s,...i}=e,{path:a}=e,o=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(s??o),null!=s&&(this.cause=o),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function s(e){return"object"==typeof e&&null!=e}function i(e){return s(e)&&!Array.isArray(e)}function a(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function o(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:c,message:u=`Expected a value of type \`${o}\`${c?` with refinement \`${c}\``:""}, but received: \`${a(r)}\``}=e;return{value:r,type:o,refinement:c,key:s[s.length-1],path:s,branch:i,...e,message:u}}function*c(e,t,n,r){var i;s(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const s of e){const e=o(s,t,n,r);e&&(yield e)}}function*u(e,t,n={}){const{path:r=[],branch:i=[e],coerce:a=!1,mask:o=!1}=n,c={path:r,branch:i,mask:o};a&&(e=t.coercer(e,c));let l="valid";for(const r of t.validator(e,c))r.explanation=n.message,l="not_valid",yield[r,void 0];for(let[f,d,h]of t.entries(e,c)){const t=u(d,h,{path:void 0===f?r:[...r,f],branch:void 0===f?i:[...i,d],coerce:a,mask:o,message:n.message});for(const n of t)n[0]?(l=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):a&&(d=n[1],void 0===f?e=d:e instanceof Map?e.set(f,d):e instanceof Set?e.add(d):s(e)&&(void 0!==d||f in e)&&(e[f]=d))}if("not_valid"!==l)for(const r of t.refiner(e,c))r.explanation=n.message,l="not_refined",yield[r,void 0];"valid"===l&&(yield[void 0,e])}class l{constructor(e){const{type:t,schema:n,validator:r,refiner:s,coercer:i=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>c(r(e,t),t,this,e):()=>[],this.refiner=s?(e,t)=>c(s(e,t),t,this,e):()=>[]}assert(e,t){return f(e,this,t)}create(e,t){return d(e,this,t)}is(e){return h(e,this)}mask(e,t){return function(e,t,n){const r=m(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return m(e,this,t)}}function f(e,t,n){const r=m(e,t,{message:n});if(r[0])throw r[0]}function d(e,t,n){const r=m(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function h(e,t){return!m(e,t)[0]}function m(e,t,n={}){const s=u(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(s);return i[0]?[new r(i[0],(function*(){for(const e of s)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function w(e,t){return new l({type:e,schema:null,validator:t})}function p(){return w("any",(()=>!0))}function g(e){return new l({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${a(e)}`})}function y(){return w("boolean",(e=>"boolean"==typeof e))}function v(e){return w("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${a(t)}`))}function E(e){const t=a(e),n=typeof e;return new l({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${a(n)}`})}function b(e){return new l({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function S(){return w("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${a(e)}`))}function k(e){return new l({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function T(e,t){return new l({type:"record",schema:null,*entries(n){if(s(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator:e=>i(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>i(e)?{...e}:e})}function x(){return w("string",(e=>"string"==typeof e||`Expected a string, but received: ${a(e)}`))}function C(e){const t=w("never",(()=>!1));return new l({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${a(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function W(e){const t=Object.keys(e);return new l({type:"type",schema:e,*entries(n){if(s(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>i(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>i(e)?{...e}:e})}function A(e){const t=e.map((e=>e.type)).join(" | ");return new l({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,s]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return s}return t},validator(n,r){const s=[];for(const t of e){const[...e]=u(n,t,r),[i]=e;if(!i[0])return[];for(const[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${a(n)}`,...s]}})}function M(){return w("unknown",(()=>!0))}function I(e,t,n){return new l({...e,coercer:(r,s)=>h(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}},39707:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,w:()=>i});var r=n(96540);const s=(0,r.createContext)({});function i(){return(0,r.useContext)(s)}},43466:(e,t,n)=>{var r=n(95364);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},53803:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(96540),s=n(96763);function i(e,t){const n=(0,r.useState)((()=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(e){"undefined"!=typeof window&&s.error(e)}return t})),i=n[0],a=(0,r.useRef)(!0);return(0,r.useEffect)((()=>{if(a.current)a.current=!1;else try{null===i?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(i))}catch(e){"undefined"!=typeof window&&s.error(e)}}),[i,e]),n}},56855:(e,t,n)=>{"use strict";n.d(t,{r:()=>ne});var r=n(34771);const s=n(72595).Z;var i=n(89124),a=n(59405),o=n(852),c=n(82524),u=n(3149);const l="solana:signMessage",f="solana:signIn",d="solana:mainnet";function h(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var m,w,p,g,y,v,E,b,S,k,T,x,C,W,A,M,I,$,R=n(62643),z=n(80856),K=n(89823),O=n(29187),q=n(21079),P=n(55485),j=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},B=function(e,t,n,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,n):s?s.value=n:t.set(e,n),n};class U extends i.Ce{get name(){return j(this,b,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return j(this,b,"f").icon}get readyState(){return j(this,S,"f")}get publicKey(){return j(this,p,"f")}get connecting(){return j(this,g,"f")}get supportedTransactionVersions(){return j(this,E,"f")}get wallet(){return j(this,b,"f")}get standard(){return!0}constructor({wallet:e}){super(),m.add(this),w.set(this,void 0),p.set(this,void 0),g.set(this,void 0),y.set(this,void 0),v.set(this,void 0),E.set(this,void 0),b.set(this,void 0),S.set(this,"undefined"==typeof window||"undefined"==typeof document?i.Ok.Unsupported:i.Ok.Installed),W.set(this,(e=>{if("accounts"in e){const e=j(this,b,"f").accounts[0];j(this,w,"f")&&!j(this,y,"f")&&e!==j(this,w,"f")&&(e?j(this,m,"m",T).call(this,e):(this.emit("error",new a.PQ),j(this,m,"m",x).call(this)))}"features"in e&&j(this,m,"m",C).call(this)})),B(this,b,e,"f"),B(this,w,null,"f"),B(this,p,null,"f"),B(this,g,!1,"f"),B(this,y,!1,"f"),B(this,v,j(this,b,"f").features[z.j].on("change",j(this,W,"f")),"f"),j(this,m,"m",C).call(this)}destroy(){B(this,w,null,"f"),B(this,p,null,"f"),B(this,g,!1,"f"),B(this,y,!1,"f");const e=j(this,v,"f");e&&(B(this,v,null,"f"),e())}async autoConnect(){return j(this,m,"m",k).call(this,{silent:!0})}async connect(){return j(this,m,"m",k).call(this)}async disconnect(){if(K.w in j(this,b,"f").features)try{B(this,y,!0,"f"),await j(this,b,"f").features[K.w].disconnect()}catch(e){this.emit("error",new a.Y8(e?.message,e))}finally{B(this,y,!1,"f")}j(this,m,"m",x).call(this)}async sendTransaction(e,t,n={}){try{const s=j(this,w,"f");if(!s)throw new a.kW;let i;if(c.R in j(this,b,"f").features)if(s.features.includes(c.R))i=c.R;else{if(!(u.q in j(this,b,"f").features)||!s.features.includes(u.q))throw new a.fk;i=u.q}else{if(!(u.q in j(this,b,"f").features))throw new a.Ez;if(!s.features.includes(u.q))throw new a.fk;i=u.q}const l=(r=t.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?d:/\bdevnet\b/i.test(r)?"solana:devnet":/\btestnet\b/i.test(r)?"solana:testnet":/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?"solana:localnet":d;if(!s.chains.includes(l))throw new a.UF;try{const{signers:r,...a}=n;let f;if((0,o.Y)(e)?(r?.length&&e.sign(r),f=e.serialize()):(e=await this.prepareTransaction(e,t,a),r?.length&&e.partialSign(...r),f=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===c.R){const[e]=await j(this,b,"f").features[c.R].signAndSendTransaction({account:s,chain:l,transaction:f,options:{preflightCommitment:h(a.preflightCommitment||t.commitment),skipPreflight:a.skipPreflight,maxRetries:a.maxRetries,minContextSlot:a.minContextSlot}});return P.A.encode(e.signature)}{const[e]=await j(this,b,"f").features[u.q].signTransaction({account:s,chain:l,transaction:f,options:{preflightCommitment:h(a.preflightCommitment||t.commitment),minContextSlot:a.minContextSlot}});return await t.sendRawTransaction(e.signedTransaction,{...a,preflightCommitment:h(a.preflightCommitment||t.commitment)})}}catch(e){if(e instanceof a.m7)throw e;throw new a.UF(e?.message,e)}}catch(e){throw this.emit("error",e),e}var r}}w=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,v=new WeakMap,E=new WeakMap,b=new WeakMap,S=new WeakMap,W=new WeakMap,m=new WeakSet,k=async function(e){try{if(this.connected||this.connecting)return;if(j(this,S,"f")!==i.Ok.Installed)throw new a.AE;if(B(this,g,!0,"f"),!j(this,b,"f").accounts.length)try{await j(this,b,"f").features[O.u].connect(e)}catch(e){throw new a.Y6(e?.message,e)}const t=j(this,b,"f").accounts[0];if(!t)throw new a.fk;j(this,m,"m",T).call(this,t)}catch(e){throw this.emit("error",e),e}finally{B(this,g,!1,"f")}},T=function(e){let t;try{t=new R.PublicKey(e.address)}catch(e){throw new a.Kd(e?.message,e)}B(this,w,e,"f"),B(this,p,t,"f"),j(this,m,"m",C).call(this),this.emit("connect",t)},x=function(){B(this,w,null,"f"),B(this,p,null,"f"),j(this,m,"m",C).call(this),this.emit("disconnect")},C=function(){const e=c.R in j(this,b,"f").features?j(this,b,"f").features[c.R].supportedTransactionVersions:j(this,b,"f").features[u.q].supportedTransactionVersions;B(this,E,(0,q.r1)(e,["legacy"])?null:new Set(e),"f"),u.q in j(this,b,"f").features&&j(this,w,"f")?.features.includes(u.q)?(this.signTransaction=j(this,m,"m",A),this.signAllTransactions=j(this,m,"m",M)):(delete this.signTransaction,delete this.signAllTransactions),l in j(this,b,"f").features&&j(this,w,"f")?.features.includes(l)?this.signMessage=j(this,m,"m",I):delete this.signMessage,f in j(this,b,"f").features?this.signIn=j(this,m,"m",$):delete this.signIn},A=async function(e){try{const t=j(this,w,"f");if(!t)throw new a.kW;if(!(u.q in j(this,b,"f").features))throw new a.Ez;if(!t.features.includes(u.q))throw new a.fk;try{const n=(await j(this,b,"f").features[u.q].signTransaction({account:t,transaction:(0,o.Y)(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return(0,o.Y)(e)?R.VersionedTransaction.deserialize(n):R.Transaction.from(n)}catch(e){if(e instanceof a.m7)throw e;throw new a.z4(e?.message,e)}}catch(e){throw this.emit("error",e),e}},M=async function(e){try{const t=j(this,w,"f");if(!t)throw new a.kW;if(!(u.q in j(this,b,"f").features))throw new a.Ez;if(!t.features.includes(u.q))throw new a.fk;try{const n=await j(this,b,"f").features[u.q].signTransaction(...e.map((e=>({account:t,transaction:(0,o.Y)(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return e.map(((e,t)=>{const r=n[t].signedTransaction;return(0,o.Y)(e)?R.VersionedTransaction.deserialize(r):R.Transaction.from(r)}))}catch(e){throw new a.z4(e?.message,e)}}catch(e){throw this.emit("error",e),e}},I=async function(e){try{const t=j(this,w,"f");if(!t)throw new a.kW;if(!(l in j(this,b,"f").features))throw new a.Ez;if(!t.features.includes(l))throw new a.fk;try{return(await j(this,b,"f").features[l].signMessage({account:t,message:e}))[0].signature}catch(e){throw new a.K3(e?.message,e)}}catch(e){throw this.emit("error",e),e}},$=async function(e={}){try{if(!(f in j(this,b,"f").features))throw new a.Ez;let t;try{[t]=await j(this,b,"f").features[f].signIn(e)}catch(e){throw new a.o7(e?.message,e)}if(!t)throw new a.o7;return j(this,m,"m",T).call(this,t.account),t}catch(e){throw this.emit("error",e),e}};var L,Y=n(81831),D=n(96540),N=n(96763);function _(e){const t=(0,D.useRef)(void 0);return void 0===t.current&&(t.current={value:e()}),t.current.value}function V(e){return e.filter(s).map((e=>new U({wallet:e})))}!function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"}(L||(L={}));var G=n(39707),F=n(53803),J=n(59921),Z=n(62922),Q=n(96763);function X({children:e,wallets:t,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:o,onError:c,onSelectWallet:u}){const l=(0,D.useRef)(!1),[f,d]=(0,D.useState)(!1),h=(0,D.useRef)(!1),[m,w]=(0,D.useState)(!1),[p,g]=(0,D.useState)((()=>n?.publicKey??null)),[y,v]=(0,D.useState)((()=>n?.connected??!1)),E=(0,D.useRef)(c);(0,D.useEffect)((()=>(E.current=c,()=>{E.current=void 0})),[c]);const b=(0,D.useRef)(((e,t)=>(r.current||(E.current?E.current(e,t):(Q.error(e,t),e instanceof a.AE&&"undefined"!=typeof window&&t&&window.open(t.url,"_blank"))),e))),[S,k]=(0,D.useState)((()=>t.map((e=>({adapter:e,readyState:e.readyState}))).filter((({readyState:e})=>e!==i.Ok.Unsupported))));(0,D.useEffect)((()=>{function e(e){k((t=>{const n=t.findIndex((({adapter:e})=>e===this));if(-1===n)return t;const{adapter:r}=t[n];return[...t.slice(0,n),{adapter:r,readyState:e},...t.slice(n+1)].filter((({readyState:e})=>e!==i.Ok.Unsupported))}))}return k((e=>t.map(((t,n)=>{const r=e[n];return r&&r.adapter===t&&r.readyState===t.readyState?r:{adapter:t,readyState:t.readyState}})).filter((({readyState:e})=>e!==i.Ok.Unsupported)))),t.forEach((t=>t.on("readyStateChange",e,t))),()=>{t.forEach((t=>t.off("readyStateChange",e,t)))}}),[n,t]);const T=(0,D.useMemo)((()=>S.find((e=>e.adapter===n))??null),[n,S]);(0,D.useEffect)((()=>{if(!n)return;const e=e=>{g(e),l.current=!1,d(!1),v(!0),h.current=!1,w(!1)},t=()=>{r.current||(g(null),l.current=!1,d(!1),v(!1),h.current=!1,w(!1))},s=e=>{b.current(e,n)};return n.on("connect",e),n.on("disconnect",t),n.on("error",s),()=>{n.off("connect",e),n.off("disconnect",t),n.off("error",s),t()}}),[n,r]);const x=(0,D.useRef)(!1);(0,D.useEffect)((()=>()=>{x.current=!1}),[n]),(0,D.useEffect)((()=>{x.current||l.current||y||!s||T?.readyState!==i.Ok.Installed&&T?.readyState!==i.Ok.Loadable||(l.current=!0,d(!0),x.current=!0,async function(){try{await s()}catch{o()}finally{d(!1),l.current=!1}}())}),[y,s,o,T]);const C=(0,D.useCallback)((async(e,t,r)=>{if(!n)throw b.current(new J.g);if(!y)throw b.current(new a.kW,n);return await n.sendTransaction(e,t,r)}),[n,y]),W=(0,D.useMemo)((()=>n&&"signTransaction"in n?async e=>{if(!y)throw b.current(new a.kW,n);return await n.signTransaction(e)}:void 0),[n,y]),A=(0,D.useMemo)((()=>n&&"signAllTransactions"in n?async e=>{if(!y)throw b.current(new a.kW,n);return await n.signAllTransactions(e)}:void 0),[n,y]),M=(0,D.useMemo)((()=>n&&"signMessage"in n?async e=>{if(!y)throw b.current(new a.kW,n);return await n.signMessage(e)}:void 0),[n,y]),I=(0,D.useMemo)((()=>n&&"signIn"in n?async e=>await n.signIn(e):void 0),[n]),$=(0,D.useCallback)((async()=>{if(l.current||h.current||T?.adapter.connected)return;if(!T)throw b.current(new J.g);const{adapter:e,readyState:t}=T;if(t!==i.Ok.Installed&&t!==i.Ok.Loadable)throw b.current(new a.AE,e);l.current=!0,d(!0);try{await e.connect()}catch(e){throw o(),e}finally{d(!1),l.current=!1}}),[o,T]),R=(0,D.useCallback)((async()=>{if(!h.current&&n){h.current=!0,w(!0);try{await n.disconnect()}finally{w(!1),h.current=!1}}}),[n]);return D.createElement(Z.b.Provider,{value:{autoConnect:!!s,wallets:S,wallet:T,publicKey:p,connected:y,connecting:f,disconnecting:m,select:u,connect:$,disconnect:R,sendTransaction:C,signTransaction:W,signAllTransactions:A,signMessage:M,signIn:I}},e)}let H;function ee(e){return function({adapters:e,userAgentString:t}){return e.some((e=>e.name!==r.fG&&e.readyState===i.Ok.Installed))?L.DESKTOP_WEB:t&&/android/i.test(t)&&!function(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}(t)?L.MOBILE_WEB:L.DESKTOP_WEB}({adapters:e,userAgentString:(void 0===H&&(H=globalThis.navigator?.userAgent??null),H)})===L.MOBILE_WEB}function te(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function ne({children:e,wallets:t,autoConnect:n,localStorageKey:s="walletName",onError:i}){const{connection:a}=(0,G.w)(),o=function(e){const t=_((()=>new Set)),{get:n,on:r}=_((()=>(0,Y.N)())),[s,i]=(0,D.useState)((()=>V(n())));(0,D.useEffect)((()=>{const e=[r("register",((...e)=>i((t=>[...t,...V(e)])))),r("unregister",((...e)=>i((t=>t.filter((t=>e.some((e=>e===t.wallet))))))))];return()=>e.forEach((e=>e()))}),[r]);const a=function(e){const t=(0,D.useRef)(void 0);return(0,D.useEffect)((()=>{t.current=e})),t.current}(s);return(0,D.useEffect)((()=>{if(!a)return;const e=new Set(s);new Set(a.filter((t=>!e.has(t)))).forEach((e=>e.destroy()))}),[a,s]),(0,D.useEffect)((()=>()=>s.forEach((e=>e.destroy()))),[]),(0,D.useMemo)((()=>[...s,...e.filter((({name:e})=>!s.some((t=>t.name===e))||(t.has(e)||(t.add(e),N.warn(`${e} was registered as a Standard Wallet. The Wallet Adapter for ${e} can be removed from your app.`)),!1)))]),[s,e,t])}(t),c=(0,D.useMemo)((()=>{if(!ee(o))return null;const e=o.find((e=>e.name===r.fG));return e||new r.Ne({addressSelector:(0,r.RP)(),appIdentity:{uri:te()},authorizationResultCache:(0,r.u)(),cluster:(t=a?.rpcEndpoint,t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:(0,r.O0)()});var t}),[o,a?.rpcEndpoint]),u=(0,D.useMemo)((()=>null==c||-1!==o.indexOf(c)?o:[c,...o]),[o,c]),[l,f]=(0,F.M)(s,ee(o)?r.fG:null),d=(0,D.useMemo)((()=>u.find((e=>e.name===l))??null),[u,l]),h=(0,D.useCallback)((e=>{l!==e&&(d&&d.name!==r.fG&&d.disconnect(),f(e))}),[d,f,l]);(0,D.useEffect)((()=>{if(d)return d.on("disconnect",e),()=>{d.off("disconnect",e)};function e(){p.current||l===r.fG&&ee(o)||f(null)}}),[d,o,f,l]);const m=(0,D.useRef)(!1),w=(0,D.useMemo)((()=>{if(n&&d)return async()=>{(!0===n||await n(d))&&(m.current?await d.connect():await d.autoConnect())}}),[n,d]),p=(0,D.useRef)(!1);(0,D.useEffect)((()=>{if(l!==r.fG||!ee(o))return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)};function e(){p.current=!0}p.current=!1}),[o,l]);const g=(0,D.useCallback)((()=>{d&&d.name!==r.fG&&h(null)}),[d,h]),y=(0,D.useCallback)((e=>{m.current=!0,h(e)}),[h]);return D.createElement(X,{wallets:u,adapter:d,isUnloadingRef:p,onAutoConnectRequest:w,onConnectError:g,onError:i,onSelectWallet:y},e)}},59405:(e,t,n)=>{"use strict";n.d(t,{AE:()=>s,Ez:()=>a,K3:()=>p,KL:()=>E,Kd:()=>f,PQ:()=>c,Sz:()=>i,UF:()=>m,Y6:()=>o,Y8:()=>u,ZR:()=>y,fU:()=>d,fk:()=>l,iJ:()=>v,kW:()=>h,m7:()=>r,o7:()=>g,z4:()=>w});class r extends Error{constructor(e,t){super(e),this.error=t}}class s extends r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class i extends r{constructor(){super(...arguments),this.name="WalletLoadError"}}class a extends r{constructor(){super(...arguments),this.name="WalletConfigError"}}class o extends r{constructor(){super(...arguments),this.name="WalletConnectionError"}}class c extends r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class u extends r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class l extends r{constructor(){super(...arguments),this.name="WalletAccountError"}}class f extends r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class d extends r{constructor(){super(...arguments),this.name="WalletKeypairError"}}class h extends r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class m extends r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class w extends r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class p extends r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class g extends r{constructor(){super(...arguments),this.name="WalletSignInError"}}class y extends r{constructor(){super(...arguments),this.name="WalletTimeoutError"}}class v extends r{constructor(){super(...arguments),this.name="WalletWindowBlockedError"}}class E extends r{constructor(){super(...arguments),this.name="WalletWindowClosedError"}}},59921:(e,t,n)=>{"use strict";n.d(t,{g:()=>s});var r=n(59405);class s extends r.m7{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}},62922:(e,t,n)=>{"use strict";n.d(t,{b:()=>c,v:()=>u});var r=n(96540),s=n(96763);const i=[],a={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){o("call","select")},connect:()=>Promise.reject(o("call","connect")),disconnect:()=>Promise.reject(o("call","disconnect")),sendTransaction:()=>Promise.reject(o("call","sendTransaction")),signTransaction:()=>Promise.reject(o("call","signTransaction")),signAllTransactions:()=>Promise.reject(o("call","signAllTransactions")),signMessage:()=>Promise.reject(o("call","signMessage")),signIn:()=>Promise.reject(o("call","signIn"))};function o(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return s.error(n),n}Object.defineProperty(a,"wallets",{get:()=>(o("read","wallets"),i)}),Object.defineProperty(a,"wallet",{get:()=>(o("read","wallet"),null)}),Object.defineProperty(a,"publicKey",{get:()=>(o("read","publicKey"),null)});const c=(0,r.createContext)(a);function u(){return(0,r.useContext)(c)}},68004:(e,t,n)=>{"use strict";n.d(t,{DE:()=>o,Kl:()=>a,Xl:()=>c});var r=n(89124),s=n(59405),i=n(852);class a extends r.Ce{async sendTransaction(e,t,n={}){let r=!0;try{if((0,i.Y)(e)){if(!this.supportedTransactionVersions)throw new s.UF("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new s.UF(`Sending transaction version ${e.version} isn't supported by this wallet`);try{const r=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(r,n)}catch(e){if(e instanceof s.z4)throw r=!1,e;throw new s.UF(e?.message,e)}}else try{const{signers:r,...s}=n;e=await this.prepareTransaction(e,t,s),r?.length&&e.partialSign(...r);const i=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(i,s)}catch(e){if(e instanceof s.z4)throw r=!1,e;throw new s.UF(e?.message,e)}}catch(e){throw r&&this.emit("error",e),e}}async signAllTransactions(e){for(const t of e)if((0,i.Y)(t)){if(!this.supportedTransactionVersions)throw new s.z4("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new s.z4(`Signing transaction version ${t.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class o extends a{}class c extends o{}},72571:(e,t,n)=>{"use strict";function r(e){let t=`${e.domain} wants you to sign in with your Solana account:\n`;t+=`${e.address}`,e.statement&&(t+=`\n\n${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const t of e.resources)n.push(`- ${t}`)}return n.length&&(t+=`\n\n${n.join("\n")}`),t}n.d(t,{d4:()=>r}),new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$")},72595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(82524),s=n(3149),i=n(29187),a=n(80856);function o(e){return i.u in e.features&&a.j in e.features&&(r.R in e.features||s.q in e.features)}},77820:(e,t,n)=>{"use strict";n.d(t,{DE:()=>a.DE,Xl:()=>a.Xl,Kl:()=>a.Kl,Ce:()=>s.Ce,bk:()=>s.bk,fk:()=>i.fk,BX:()=>r,Ez:()=>i.Ez,Y6:()=>i.Y6,PQ:()=>i.PQ,Y8:()=>i.Y8,m7:()=>i.m7,fU:()=>i.fU,Sz:()=>i.Sz,kW:()=>i.kW,AE:()=>i.AE,Kd:()=>i.Kd,Ok:()=>s.Ok,UF:()=>i.UF,o7:()=>i.o7,K3:()=>i.K3,z4:()=>i.z4,ZR:()=>i.ZR,iJ:()=>i.iJ,KL:()=>i.KL,Br:()=>s.Br,Y2:()=>c.Y,Zc:()=>o.Z,qG:()=>s.qG});var r,s=n(89124),i=n(59405),a=n(68004),o=n(72595),c=n(852);!function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"}(r||(r={}))},82524:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});const r="solana:signAndSendTransaction"},89124:(e,t,n)=>{"use strict";n.d(t,{Br:()=>c,Ce:()=>a,Ok:()=>r,bk:()=>s,qG:()=>o});var r,s=n(30228),i=n(59405);!function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(r||(r={}));class a extends s{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,n={}){const r=this.publicKey;if(!r)throw new i.kW;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function o(e){if("undefined"==typeof window||"undefined"==typeof document)return;const t=[];function n(){if(e())for(const e of t)e()}const r=setInterval(n,1e3);t.push((()=>clearInterval(r))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",n)))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),t.push((()=>window.removeEventListener("load",n)))),n()}function c(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),n=e.includes("safari");return t&&n}}}]);
//# sourceMappingURL=main-4.0.1-50.js.map