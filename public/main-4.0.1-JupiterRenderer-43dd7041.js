(self.webpackChunk_jup_ag_terminal=self.webpackChunk_jup_ag_terminal||[]).push([[571],{371:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=n(37988),i=n(62643),o=n(70208);t.default=({fromTokenInfo:e,toTokenInfo:t})=>{const{connection:n}=(0,r.useConnection)(),a=[e,t].filter(Boolean),l=a.map((e=>null==e?void 0:e.address));return(0,o.useQuery)(["onchain-token-metadata",...l],(()=>s(void 0,void 0,void 0,(function*(){try{const e=yield n.getMultipleParsedAccounts(l.map((e=>new i.PublicKey(e))));if(e.value)return e.value.map(((e,t)=>(null==e?void 0:e.data)&&"parsed"in(null==e?void 0:e.data)?{tokenInfo:a[t],parsed:null==e?void 0:e.data.parsed}:null))}catch(e){throw new Error("Failed to fetch token metadata")}}))),{enabled:!!e&&!!t})}},1420:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSortByValue=void 0;const i=r(n(93110)),o=n(96540),a=n(52688),l=n(7302),u=n(4809),c=n(41433),d=n(78447),f=n(76298);t.useSortByValue=()=>{const{getTokenInfo:e}=(0,l.useTokenContext)(),{accounts:t,nativeAccount:n}=(0,c.useAccounts)(),{tokenPriceMap:r}=(0,u.useUSDValue)(),h=(0,o.useRef)(new Map),m=(0,o.useRef)(new Map);return(0,o.useEffect)((()=>{var s;const o=a.WRAPPED_SOL_MINT.toBase58();if(Object.entries(t).filter((([e,t])=>t.balanceLamports.gtn(0))).forEach((([t,s])=>{var o;const l=e(t);if(!l)return;let u=(0,f.fromLamports)(s.balanceLamports,l.decimals);t===a.WRAPPED_SOL_MINT.toBase58()&&n&&(u+=(0,f.fromLamports)(n.balanceLamports,l.decimals)),h.current.set(t,u);const c=null===(o=r[t])||void 0===o?void 0:o.usd;if(c){const e=new i.default(u).mul(c);e.greaterThan(0)&&m.current.set(t,e)}}),new Map),n&&!h.current.has(o)){const e=(0,f.fromLamports)(n.balanceLamports,9);h.current.set(a.WRAPPED_SOL_MINT.toBase58(),e);const t=null===(s=r[a.WRAPPED_SOL_MINT.toBase58()])||void 0===s?void 0:s.usd;if(t){const n=new i.default(e).mul(t);n.greaterThan(0)&&m.current.set(a.WRAPPED_SOL_MINT.toBase58(),n)}}}),[e,n,r,t]),{sortTokenListByBalance:(0,o.useCallback)((e=>s(void 0,void 0,void 0,(function*(){return(()=>{const t=new Map;return e.forEach((e=>{t.has(e.address)||t.set(e.address,e)})),Array.from(t.values())})().sort(((e,t)=>{const n=m.current.get(e.address),s=m.current.get(t.address);if(n&&s)return s.cmp(n);if(n&&!s)return-1;if(!n&&s)return 1;const r=h.current.get(e.address),o=h.current.get(t.address);if(r&&o)return new i.default(o).cmp(r);if(r&&!o)return-1;if(!r&&o)return 1;let a=0,l=0;const u=e.daily_volume||0,c=t.daily_volume||0;return u>c&&(a+=1),c>u&&(l+=1),(0,d.checkIsUnknownToken)(e)&&(a-=2),(0,d.checkIsUnknownToken)(t)&&(l-=2),l-a}))}))),[]),filterStrictToken:(0,o.useCallback)((e=>e.filter((e=>!(0,d.checkIsUnknownToken)(e)))),[]),mintToUsdValue:m.current}}},2164:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(10178),a=s(n(71596)),l=n(52122),u=n(76298),c=(0,i.forwardRef)(((e,t)=>{const{address:n,className:s,children:c}=e,{getTokenExplorer:d}=(0,o.usePreferredExplorer)(),{href:f,shortAddr:h}=(0,i.useMemo)((()=>({href:d(n),shortAddr:(0,u.shortenAddress)(n,5)})),[n,d]);return(0,r.jsx)("a",{ref:t,target:"_blank",rel:"noreferrer",href:f,className:(0,l.cn)("flex items-center bg-jupiter-bg-grey bg-black/25 text-white/75 px-2 py-0.5 space-x-1 rounded cursor-pointer",s),children:c||(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-xxs",children:h}),(0,r.jsx)(a.default,{width:10,height:10})]})})}));c.displayName="AccountLink",t.default=c},3203:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AuthorityAndDelegatesSuggestion=void 0;const a=n(74848),l=n(96540),u=o(n(27962)),c=o(n(7564)),d=i(n(48395)),f=o(n(91106)),h=o(n(26795)),m=n(52688),p=n(78447),x=n(13564),v=n(52122),g=o(n(37762)),b=o(n(17181));t.AuthorityAndDelegatesSuggestion=({freeze:e,permanent:t})=>{const n=(0,l.useMemo)((()=>e.every(p.checkIsStrictOrVerified)&&t.every(p.checkIsStrictOrVerified)),[e,t]),s=(0,x.useMobile)();return(0,a.jsx)(b.default,{placement:"top",persistOnClick:s,buttonContentClassName:"!cursor-help",content:(0,a.jsxs)("div",{className:"p-1",children:[e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"font-semibold",children:"Freeze Authority"}),(0,a.jsx)("div",{className:"text-v2-lily/50 mt-1",children:(0,a.jsx)("p",{children:"This authority has the ability to freeze your token account, preventing you from further trading."})}),(0,a.jsx)("div",{className:"mt-2 flex gap-2",children:e.map((e=>(0,a.jsxs)("div",{className:(0,v.cn)("flex pl-2 overflow-hidden gap-x-2 items-center border border-v2-lily/10 rounded-lg bg-v2-lily/10",(0,p.checkIsStrictOrVerified)(e)?"":"bg-warning text-limit-bg"),children:[(0,a.jsx)("span",{className:"font-semibold",children:e.symbol}),(0,a.jsx)(g.default,{tokenInfo:e,className:(0,p.checkIsStrictOrVerified)(e)?"":"text-black"})]},e.address)))})]}),e.length>0&&t.length>0&&(0,a.jsx)(c.default,{}),t.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"font-semibold",children:"Permanent Delegates"}),(0,a.jsx)("div",{className:"text-v2-lily/50 mt-1",children:(0,a.jsx)("p",{children:"This authority has the ability to control all token accounts of that mint, enabling them to burn or transfer your tokens."})}),(0,a.jsx)("div",{className:"mt-2 flex gap-2",children:t.map((e=>(0,a.jsxs)("div",{className:(0,v.cn)("flex pl-2 overflow-hidden gap-x-2 items-center border border-v2-lily/10 rounded-lg bg-v2-lily/10",(0,p.checkIsStrictOrVerified)(e)?"":"bg-warning text-limit-bg"),children:[(0,a.jsx)("span",{className:"font-semibold",children:e.symbol}),(0,a.jsx)(g.default,{tokenInfo:e,className:(0,p.checkIsStrictOrVerified)(e)?"":"text-black"})]},e.address)))})]}),(0,a.jsx)(c.default,{}),(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("div",{className:"text-v2-lily/50",children:"To understand more about the warnings"}),(0,a.jsxs)(f.default,{target:"_blank",href:m.FREEZE_AUTHORITY_LINK,className:"rounded-lg whitespace-nowrap px-2 py-0.5 flex gap-x-1 items-center border border-v2-lily/10 bg-v2-lily/10 w-fit mt-2",children:[(0,a.jsx)("span",{children:"Read More"}),(0,a.jsx)(h.default,{})]})]})]}),children:(0,a.jsxs)(d.default,{className:(0,v.cn)(n?d.SUGGESTION_CLASS:d.DANGER_CLASS),children:[(0,a.jsx)(u.default,{width:10,height:10}),"Token Permission"]})})}},3308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletButton=void 0;const s=n(74848),r=n(96540),i=n(70870),o=n(26597),a=n(76298),l=n(3346),u=n(55872),c=n(37988);t.WalletButton=({setIsWalletModalOpen:e})=>{const{publicKey:t,connected:n,connecting:d,disconnect:f}=(0,o.useWalletPassThrough)(),[h,m]=(0,r.useState)(!1),p=(0,r.useRef)(null),{screen:x}=(0,i.useScreenState)(),v=(0,r.useMemo)((()=>null==t?void 0:t.toBase58()),[t]);return(0,a.useOutsideClick)(p,(()=>{m(!1)})),(n||d)&&v?(0,s.jsxs)("div",{className:"cursor-pointer relative",children:[(0,s.jsx)("div",{onClick:()=>m(!h),children:(0,s.jsx)(l.CurrentUserBadge,{})}),"Initial"===x?(0,s.jsx)("ul",{"aria-label":"dropdown-list",className:h?"absolute block top-10 right-0 text-sm bg-black rounded-lg p-2 text-white dark:bg-white dark:text-black":"hidden",ref:p,role:"menu",children:(0,s.jsx)("li",{onClick:()=>{m(!1),f()},role:"menuitem",children:(0,s.jsx)("span",{children:"Disconnect"})})}):null]}):(0,s.jsx)(c.UnifiedWalletButton,{buttonClassName:"!bg-transparent",overrideContent:(0,s.jsx)(u.WalletModalButton,{setIsWalletModalOpen:e})})}},3346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentUserBadge=void 0;const s=n(74848),r=n(26597),i=n(76298);t.CurrentUserBadge=()=>{var e;const{publicKey:t,wallet:n}=(0,r.useWalletPassThrough)();return n&&t?(0,s.jsxs)("div",{className:"flex items-center bg-[#1A2633] py-2 px-3 rounded-2xl h-7",children:[(0,s.jsx)("div",{className:"w-4 h-4 rounded-full bg-[#1A2633] dark:bg-white-10 flex justify-center items-center",style:{position:"relative"},children:(0,s.jsx)("img",{alt:"Wallet logo",width:16,height:16,src:null===(e=null==n?void 0:n.adapter)||void 0===e?void 0:e.icon})}),(0,s.jsx)("div",{className:"ml-2",children:(0,s.jsx)("div",{className:"text-xs text-white",children:(0,i.shortenAddress)(`${t}`,2)})})]}):null}},3726:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(70870),a=n(75207),l=n(4809),u=n(26597),c=s(n(45434)),d=s(n(69042)),f=n(41433),h=s(n(81400)),m=s(n(97991)),p=s(n(30591)),x=s(n(12930)),v=()=>{const{screen:e}=(0,o.useScreenState)(),[t,n]=(0,i.useState)(!1),{message:s}=(0,h.default)(),[a,l]=(0,i.useState)(!1);return(0,r.jsxs)("div",{id:"jupiter-terminal",className:"relative h-full",children:["Initial"===e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{setIsWalletModalOpen:n}),(0,r.jsx)(m.default,{isWalletModalOpen:t,setIsWalletModalOpen:n})]}):null,"Confirmation"===e?(0,r.jsx)(p.default,{}):null,"Swapping"===e?(0,r.jsx)(x.default,{}):null,!a&&s?(0,r.jsx)("div",{className:"absolute bottom-1 px-3 py-2 w-full",children:(0,r.jsxs)("div",{className:" bg-[#FBA43A] rounded-xl flex items-center justify-between px-3 py-2",children:[(0,r.jsx)("div",{className:"pr-2",children:s}),(0,r.jsx)("div",{className:"cursor-pointer",onClick:()=>l(!0),children:(0,r.jsx)(c.default,{width:12,height:12})})]})}):null]})};t.default=e=>{const{refetchIntervalForTokenAccounts:t}=e,{wallet:n}=(0,u.useWalletPassThrough)();return(0,r.jsx)(f.AccountsProvider,{refetchIntervalForTokenAccounts:t,children:(0,r.jsx)(a.SwapContextProvider,Object.assign({},e,{children:(0,r.jsx)(l.USDValueProvider,Object.assign({},e,{children:(0,r.jsx)(v,{})}))}))})}},4507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848),r=n(96540),i=n(52122),o=n(76298);t.default=({loading:e,listOfSuggestions:t})=>{const n=(0,o.useDebounce)(e,100),a=(0,r.useMemo)((()=>[t.additional,t.fromToken,t.toToken].flat().filter(Boolean).length>0),[t]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:(0,i.cn)("transition-all duration-200",a?"opacity-100 !h-auto":"opacity-0 !h-0"),children:(0,s.jsxs)("div",{className:(0,i.cn)("pt-2 relative flex flex-wrap gap-y-1 gap-x-2 transition-all",n?"blur-xs opacity-50 pointer-events-none":"opacity-100"),children:[t.additional,t.fromToken,t.toToken]})})})}},4809:function(e,t,n){"use strict";var s=n(96763),r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useUSDValue=t.USDValueProvider=t.useUSDValueProvider=t.USDValueProviderContext=void 0;const i=n(74848),o=n(70208),a=n(96540),l=n(37679),u=n(76298),c=n(41433),d=n(75207),f=n(7302),h=n(52688),m=6e4;t.USDValueProviderContext=(0,a.createContext)({}),t.useUSDValueProvider=function(){return(0,a.useContext)(t.USDValueProviderContext)};const p=e=>(new Date).getTime()-e>=m;t.USDValueProvider=({children:e})=>{const{accounts:n}=(0,c.useAccounts)(),{getTokenInfo:x}=(0,f.useTokenContext)(),{fromTokenInfo:v,toTokenInfo:g}=(0,d.useSwapContext)(),[b,j]=(0,l.useLocalStorage)(`${window.Jupiter.localStoragePrefix}-cached-token-prices`,{}),[w,y]=(0,a.useState)(new Set),[_,k]=(0,a.useState)([]);(0,l.useDebounce)((()=>{k(Array.from(w))}),250,[w]);const N=(0,a.useCallback)((e=>r(void 0,void 0,void 0,(function*(){const{data:t}=yield fetch(`https://api.jup.ag/price/v2?ids=${e.join(",")}`).then((e=>e.json())),n=(new Date).getTime();return e.reduce(((s,r,i)=>{const o=t[r];return o?Object.assign(Object.assign({},s),{result:Object.assign(Object.assign({},s.result),{[o.id]:{usd:o.price,timestamp:n}})}):Object.assign(Object.assign({},s),{failed:[...s.failed,e[i]]})}),{result:{},failed:[]})}))),[]),{data:S,isFetched:O}=(0,o.useQuery)([_,Object.keys(b||{}).length],(()=>r(void 0,void 0,void 0,(function*(){let e={};const t=[];if(_.forEach((n=>{if(n){const s=(b||{})[n];if(!s)return void t.push(n);if(p(s.timestamp))return void t.push(n);e=Object.assign(Object.assign({},e),{[n]:{usd:s.usd,timestamp:s.timestamp}})}})),!t.length)return e;try{const n=(0,u.splitIntoChunks)(t,100);(yield Promise.all(n.map((e=>r(void 0,void 0,void 0,(function*(){return yield N(e)})))))).forEach((({result:t})=>{e=Object.assign(Object.assign({},e),t)}))}catch(e){s.log("Error fetching prices from Jupiter Pricing API",e)}return e}))),{staleTime:m,refetchInterval:m});(0,a.useEffect)((()=>{j((e=>Object.entries(e||{}).filter((([e,t])=>{var n;return!p(null!==(n=null==t?void 0:t.timestamp)&&void 0!==n?n:0)})).reduce(((e,[t,n])=>Object.assign(Object.assign({},e),{[t]:n})),{})))}),[j]),(0,a.useEffect)((()=>{y((e=>{const t=new Set([...e,h.WRAPPED_SOL_MINT.toString()]);return(null==v?void 0:v.address)&&t.add(null==v?void 0:v.address),(null==g?void 0:g.address)&&t.add(null==g?void 0:g.address),t}))}),[v,g]);const P=(0,a.useMemo)((()=>Object.assign(Object.assign({},b),S)),[S,b]),M=(0,a.useCallback)((e=>{y((t=>{let n=Array.isArray(e)?e:[e];return new Set([...t,...n])}))}),[]);return(0,a.useEffect)((()=>{if(!Object.keys(n).length)return;const e=Object.keys(n).map((e=>{const t=x(e);if(t)return t.address})).filter(Boolean);M(e),y((t=>new Set([...t,...e])))}),[n,x,M]),(0,i.jsx)(t.USDValueProviderContext.Provider,{value:{tokenPriceMap:P,getUSDValue:M},children:e})},t.useUSDValue=function(){return(0,a.useContext)(t.USDValueProviderContext)}},5263:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=s(n(18385)),a=n(76298),l=s(n(93110));t.default=({feeInformation:e})=>{const t=(0,i.useMemo)((()=>e?a.formatNumber.format(new l.default(e.signatureFee).div(Math.pow(10,9))):"-"),[e]);return(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsxs)("div",{className:"flex w-[50%] text-white/50",children:[(0,r.jsx)("span",{children:"Transaction Fee"}),(0,r.jsx)(o.default,{content:(0,r.jsx)("span",{children:"This is for Solana transaction fee"}),children:(0,r.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,r.jsxs)("div",{className:"text-white/50",children:[t," SOL"]})]})}},6412:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=s(n(93110)),o=n(7302),a=n(76298);t.default=({routePlan:e})=>{const{getTokenInfo:t}=(0,o.useTokenContext)();return!e||e&&0===e.length?null:(0,r.jsx)(r.Fragment,{children:e.map(((e,n)=>{var s;const o=t(e.swapInfo.feeMint.toString()),l=null!==(s=null==o?void 0:o.decimals)&&void 0!==s?s:6,u=a.formatNumber.format(new i.default(e.swapInfo.feeAmount.toString()).div(Math.pow(10,l))),c=new i.default(e.swapInfo.feeAmount.toString()).div(new i.default(e.swapInfo.inputMint.toString()===e.swapInfo.feeMint.toString()?e.swapInfo.inAmount.toString():e.swapInfo.outAmount.toString())).toDP(4);return(0,r.jsxs)("div",{className:"flex items-center space-x-4 justify-between text-xs",children:[(0,r.jsx)("div",{className:"text-white/50",children:(0,r.jsx)("span",{children:(0,r.jsxs)("span",{children:["Fees paid to ",(0,r.jsx)("span",{translate:"no",children:e.swapInfo.label})," LP"]})})}),(0,r.jsxs)("div",{className:"text-white/50 text-right",children:[u," ",null==o?void 0:o.symbol," (",a.formatNumber.format(new i.default(c).mul(100)),"%)"]})]},n)}))})}},7302:function(e,t,n){"use strict";var s=n(96763),r=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useTokenContext=t.TokenContextProvider=t.CLUSTER_TO_CHAIN_ID=void 0;const l=n(74848),u=o(n(96540)),c=n(54038),d=n(37988),f=n(37679),h=n(76298),m=n(70208),p=n(84160);t.CLUSTER_TO_CHAIN_ID={"mainnet-beta":c.ENV.MainnetBeta,testnet:c.ENV.Testnet,devnet:c.ENV.Devnet,localnet:c.ENV.Devnet};const x=u.default.createContext(null);t.TokenContextProvider=function({formProps:e,children:t}){const[n,r]=(0,u.useState)(!1),i=(0,u.useRef)(new Map),o=(0,u.useRef)(new Map),[v,g]=(0,d.useLocalStorage)(`${window.Jupiter.localStoragePrefix}-local-token-list`,{timestamp:null,data:[]}),{data:b}=(0,m.useQuery)(["cached-initial-token-list"],(()=>a(this,void 0,void 0,(function*(){let t=[];if(v.data.length>0&&v.timestamp&&Date.now()-v.timestamp<6e5)t=v.data;else{const e=yield(yield fetch("https://tokens.jup.ag/tokens?tags=strict,lst")).json(),n=new c.TokenListContainer(e).getList();g({timestamp:Date.now(),data:n}),t=n}const n=[null==e?void 0:e.initialInputMint,null==e?void 0:e.initialOutputMint].filter(Boolean).filter((e=>void 0===t.find((t=>t.address===e)))),s=n.length>0?yield j(n):[];return t.concat(s)}))),{retry:2});(0,u.useEffect)((()=>{b&&(i.current=b.reduce(((e,t)=>(e.set(t.address,t),e)),new Map),r(!0))}),[b]);const j=(0,u.useCallback)((e=>a(this,void 0,void 0,(function*(){const t=Array.from(new Set(e.filter((e=>!i.current.has(e))).filter(Boolean)));if(0===t.length)return[];t.forEach((e=>y.current.add(e)));const n=(0,h.splitIntoChunks)([...t],50),r=[];for(const e of n)try{(yield p.searchService.search(e.join(","))).forEach((e=>{o.current.set(e.address,e),r.push(e)}))}catch(e){s.log("Failed to fetch token info",e)}return r}))),[]),w=(0,u.useRef)([]),y=(0,u.useRef)(new Set);(0,f.useInterval)((()=>{w.current.length>0&&(j(w.current),w.current=[])}),2e3);const _=(0,u.useCallback)((e=>{if(!((t=e).length>=32&&t.length<=48)||t.includes("_"))return;var t;const n=i.current.get(e)||o.current.get(e);return n||w.current.push(e),n}),[i]);return(0,l.jsx)(x.Provider,{value:{tokenMap:i.current,unknownTokenMap:o.current,isLoaded:n,getTokenInfo:_},children:t})},t.useTokenContext=function(){const e=(0,u.useContext)(x);if(!e)throw new Error("TokenContext not found");return e}},7564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848),r=n(52122);t.default=({className:e})=>(0,s.jsx)("div",{className:(0,r.cn)("my-5 border-t-[1px] border-black-10 dark:border-white-10",e)})},9760:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(96540)),a=n(75207),l=n(95070);t.default=()=>{const{lastRefreshTimestamp:e}=(0,a.useSwapContext)(),[t,n]=o.default.useState(!1),[s,r]=(0,o.useState)(0);return(0,o.useEffect)((()=>{const t=setInterval((()=>{if(!e)return;const t=Date.now()>e+l.ROUTE_CACHE_DURATION,s=(Date.now()-(e+l.ROUTE_CACHE_DURATION))/1e3;r(s/(l.ROUTE_CACHE_DURATION/1e3)*100),n(t)}),1e3);return()=>clearInterval(t)}),[e]),[t,s]}},9853:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TransferTaxSuggestion=void 0;const a=n(74848),l=o(n(17181)),u=n(52122),c=i(n(48395)),d=n(19712),f=n(96540),h=n(78447),m=n(13564),p=o(n(93110));t.TransferTaxSuggestion=({asset:e,transferFee:t})=>{const n=(0,f.useMemo)((()=>(0,h.checkIsStrictOrVerified)(e.tokenInfo)),[e.tokenInfo]),s=(0,f.useMemo)((()=>new p.default(t).greaterThan(0)),[t]),r=(0,m.useMobile)();return s?(0,a.jsx)(l.default,{placement:"top",drawShades:!0,persistOnClick:r,buttonContentClassName:"!cursor-help",content:e.tokenInfo?(0,a.jsx)(d.Token2022Info,{asset:e,isLoading:!1}):null,children:(0,a.jsx)(c.default,{className:(0,u.cn)(n?c.SUGGESTION_CLASS:c.WARNING_CLASS),children:(0,a.jsxs)("div",{className:"flex gap-x-1",children:[(0,a.jsx)("span",{children:e.tokenInfo.symbol}),(0,a.jsxs)("span",{children:["(",t,"% Tax)"]})]})})}):null}},10178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.usePreferredExplorer=t.PreferredExplorerProvider=t.AVAILABLE_EXPLORER=void 0;const s=n(74848),r=n(96540);t.AVAILABLE_EXPLORER=[{name:"Solana Explorer",url:"https://explorer.solana.com/",get:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://explorer.solana.com/tx/${e}?cluster=${t}`:`https://explorer.solana.com/tx/${e}`,getToken:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://explorer.solana.com/address/${e}?cluster=${t}`:`https://explorer.solana.com/address/${e}`},{name:"Solscan",url:"https://solscan.io/",get:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solscan.io/tx/${e}?cluster=${t}`:`https://solscan.io/tx/${e}`,getToken:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solscan.io/token/${e}?cluster=${t}`:`https://solscan.io/token/${e}`},{name:"Solana Beach",url:"https://solanabeach.io/",get:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solanabeach.io/transaction/${e}?cluster=${t}`:`https://solanabeach.io/transaction/${e}`,getToken:(e,t="mainnet-beta")=>"mainnet-beta"!==t?`https://solanabeach.io/address/${e}?cluster=${t}`:`https://solanabeach.io/address/${e}`},{name:"SolanaFM",url:"https://solana.fm/",get:(e,t="mainnet-beta")=>"devnet"===t?`https://solana.fm/tx/${e}?cluster=devnet-solana`:"testnet"===t?`https://solana.fm/tx/${e}?cluster=testnet-qn1`:`https://solana.fm/tx/${e}`,getToken:(e,t="mainnet-beta")=>"devnet"===t?`https://solana.fm/address/${e}?cluster=devnet-solana`:"testnet"===t?`https://solana.fm/address/${e}?cluster=testnet-qn1`:`https://solana.fm/address/${e}`}];const i=(0,r.createContext)({explorer:t.AVAILABLE_EXPLORER[0].name,getExplorer:(e,t)=>"",getTokenExplorer:(e,t)=>"",setExplorer:e=>{}});t.PreferredExplorerProvider=({defaultExplorer:e,children:n})=>{const[o,a]=(0,r.useState)(null!=e?e:t.AVAILABLE_EXPLORER[0].name),l=(0,r.useMemo)((()=>t.AVAILABLE_EXPLORER.find((e=>e.name===o))||t.AVAILABLE_EXPLORER[0]),[o]),u=(0,r.useCallback)(((e,t)=>l.get(e,t)),[l]),c=(0,r.useCallback)(((e,t)=>l.getToken(e,t)),[l]);return(0,s.jsx)(i.Provider,{value:{explorer:o,getExplorer:u,getTokenExplorer:c,setExplorer:e=>a(e)},children:n})},t.usePreferredExplorer=function(){return(0,r.useContext)(i)}},12930:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(70870),a=n(75207),l=s(n(61060)),u=s(n(92239)),c=s(n(85439)),d=s(n(99259)),f=n(76298),h=n(10178),m=s(n(8703)),p=()=>(0,r.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{clipPath:"url(#clip0_7547_116874)",children:[(0,r.jsx)("circle",{cx:"20",cy:"20",r:"20",fill:"#F04A44"}),(0,r.jsx)("path",{d:"M19.8444 25.4321C18.6773 25.4332 17.7205 24.5092 17.6793 23.3431L17.1718 9.04107C17.1507 8.45326 17.3706 7.88344 17.7786 7.46056C18.1867 7.03768 18.7492 6.7998 19.337 6.7998H20.3519C20.9397 6.7998 21.5021 7.03768 21.9102 7.46056C22.3183 7.88344 22.5382 8.45329 22.5171 9.04107L22.0096 23.3431C21.9684 24.5092 21.0116 25.4332 19.8444 25.4321Z",fill:"white"}),(0,r.jsx)("path",{d:"M22.8893 30.4989C22.8893 32.1809 21.5266 33.5436 19.8446 33.5436C18.1626 33.5436 16.7998 32.1809 16.7998 30.4989C16.7998 28.8169 18.1626 27.4541 19.8446 27.4541C21.5266 27.4541 22.8893 28.8169 22.8893 30.4989Z",fill:"white"})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_7547_116874",children:(0,r.jsx)("rect",{width:"40",height:"40",fill:"white"})})})]});t.default=()=>{const{displayMode:e,lastSwapResult:t,reset:n,swapping:{txStatus:s},fromTokenInfo:x,toTokenInfo:v,refresh:g}=(0,a.useSwapContext)(),{screen:b,setScreen:j}=(0,o.useScreenState)(),[w,y]=(0,i.useState)(""),_=()=>{n(),y(""),j("Initial"),g()},k=()=>{n({resetValues:!1}),y(""),j("Initial"),g()};(0,i.useEffect)((()=>{var e,n,s,r;if("Swapping"===b)return(null==t?void 0:t.swapResult)&&"error"in(null==t?void 0:t.swapResult)?(y((null===(n=null===(e=null==t?void 0:t.swapResult)||void 0===e?void 0:e.error)||void 0===n?void 0:n.message)||""),void(window.Jupiter.onSwapError&&window.Jupiter.onSwapError({error:null===(s=null==t?void 0:t.swapResult)||void 0===s?void 0:s.error,quoteResponseMeta:null==t?void 0:t.quoteReponse}))):void((null==t?void 0:t.swapResult)&&"txid"in(null==t?void 0:t.swapResult)&&window.Jupiter.onSuccess&&window.Jupiter.onSuccess({txid:null===(r=null==t?void 0:t.swapResult)||void 0===r?void 0:r.txid,swapResult:null==t?void 0:t.swapResult,quoteResponseMeta:null==t?void 0:t.quoteReponse}))}),[t,b]);const N=()=>{e&&"modal"!==e||window.Jupiter.close(),n(),j("Initial")},{explorer:S,getExplorer:O}=(0,h.usePreferredExplorer)(),P="loading"===(null==s?void 0:s.status)||"pending-approval"===(null==s?void 0:s.status)||"sending"===(null==s?void 0:s.status);return(0,r.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2",children:[w||"fail"===(null==s?void 0:s.status)?(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-12",children:[(0,r.jsx)(p,{}),(0,r.jsx)("p",{className:"text-white mt-2",children:"Swap Failed"}),(0,r.jsx)("p",{className:"text-white/50 text-xs mt-2",children:"We were unable to complete the swap, please try again."}),w?(0,r.jsx)("p",{className:"text-white/50 text-xs mt-2 break-all",children:w}):"",(0,r.jsx)(l.default,{size:"lg",className:"w-full mt-6 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-gradient-to-r from-[#00BEF0] to-[#C7F284]",type:"button",onClick:k,children:(0,r.jsx)("span",{children:"Retry"})})]})}):null,w||"timeout"!==(null==s?void 0:s.status)?null:(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-12",children:[(0,r.jsx)(p,{}),(0,r.jsx)("p",{className:"text-white mt-2",children:"Transaction timed-out"}),(0,r.jsx)("p",{className:"text-white/50 text-xs mt-2",children:"We were unable to complete the swap, please try again."}),w?(0,r.jsx)("p",{className:"text-white/50 text-xs mt-2",children:w}):"",(0,r.jsx)(l.default,{size:"lg",className:"w-full mt-6 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-gradient-to-r from-[#00BEF0] to-[#C7F284]",type:"button",onClick:k,children:(0,r.jsx)("span",{children:"Retry"})})]})}),!w&&P?(0,r.jsx)((()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex w-full justify-center",children:(0,r.jsx)("div",{className:"text-white",children:"Swapping"})}),(0,r.jsx)("div",{className:"flex w-full justify-center items-center mt-9",children:(0,r.jsx)("div",{className:"h-16 w-16 animate-hue duration-100",children:(0,r.jsx)(m.default,{width:64,height:64})})}),(0,r.jsx)("div",{className:"flex flex-col w-full justify-center items-center px-5 mt-7",children:P&&(0,r.jsxs)("div",{className:"flex items-center w-full rounded-xl p-4 bg-v3-input-background mb-2",children:[(0,r.jsx)(u.default,{spinnerColor:"white"}),(0,r.jsx)("div",{className:"ml-4 flex w-full justify-between",children:(0,r.jsxs)("span",{className:"text-white text-sm",children:["loading"===s.status&&"Preparing transactions","pending-approval"===s.status&&"Pending Approval","sending"===s.status&&"Swapping"]})})]})})]})),{}):null,w||"success"!==(null==s?void 0:s.status)?null:(0,r.jsx)((()=>{const{inputAmount:n,outputAmount:s,explorerLink:o}=(0,i.useMemo)((()=>({inputAmount:(null==t?void 0:t.swapResult)&&"inputAmount"in(null==t?void 0:t.swapResult)?null==t?void 0:t.swapResult.inputAmount:0,outputAmount:(null==t?void 0:t.swapResult)&&"outputAmount"in(null==t?void 0:t.swapResult)?null==t?void 0:t.swapResult.outputAmount:0,explorerLink:(null==t?void 0:t.swapResult)&&"txid"in(null==t?void 0:t.swapResult)?O(null==t?void 0:t.swapResult.txid):""})),[]);return x&&v&&(null==t?void 0:t.quoteReponse)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-center mt-12",children:[(0,r.jsx)("div",{className:"absolute top-[52px] bg-[#23C1AA] bg-opacity-[15%] rounded-full w-20 h-20 flex justify-center items-center animate-pulse"}),(0,r.jsx)("div",{className:"h-[56px] w-[56px] bg-white rounded-full",children:(0,r.jsx)(c.default,{})})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,r.jsx)("p",{className:"mt-5 text-white text-xl font-semibold",children:"Swap successful"}),(0,r.jsxs)("div",{className:"mt-4 bg-v3-input-background rounded-xl overflow-y-auto w-full webkit-scrollbar py-4 max-h-[260px]",children:[(0,r.jsxs)("div",{className:"mt-2 flex flex-col items-center justify-center text-center px-4",children:[(0,r.jsxs)("p",{className:"text-xs font-semibold text-white/75",children:["Swapped ",(0,f.fromLamports)(n,x.decimals)," ",x.symbol," to"]}),(0,r.jsxs)("p",{className:"text-2xl font-semibold text-white/75",children:[(0,f.fromLamports)(s,v.decimals)," ",v.symbol]})]}),(0,r.jsx)(d.default,{quoteResponse:null==t?void 0:t.quoteReponse,fromTokenInfo:x,toTokenInfo:v,loading:!1,showFullDetails:!0,containerClassName:"bg-v3-input-background border-none mt-0"})]})]}),o?(0,r.jsxs)("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"cursor-pointer text-white/50 mt-2 ml-2 text-xs hover:underline",children:["View on ",S]}):null,(0,r.jsxs)("div",{className:"mt-auto px-5 pb-4 flex space-x-2",children:[(0,r.jsx)(l.default,{size:"lg",className:"w-full mt-4 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-gradient-to-r from-[#00BEF0] to-[#C7F284]",type:"button",onClick:_,children:(0,r.jsx)("span",{children:(0,r.jsx)("span",{className:"text-sm",children:"Swap More"})})}),"integrated"!==e?(0,r.jsx)(l.default,{size:"lg",className:"w-full mt-4 disabled:opacity-50 leading-none !max-h-14",type:"button",onClick:N,children:(0,r.jsx)("span",{className:"text-sm",children:"Close"})}):null]})]}):null}),{})]})}},17012:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useLstApyFetcher=void 0;const r=n(70208);t.useLstApyFetcher=function(){return(0,r.useQuery)(["lst-apy"],(()=>s(this,void 0,void 0,(function*(){const e=yield fetch("https://worker.jup.ag/lst-apys");return yield e.json()}))),{retry:3,keepPreviousData:!0,staleTime:3e5})}},17181:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=s(n(39204)),o=n(52122);t.default=({content:e,disabled:t=!1,variant:n="dark",children:s,offset:a,placement:l,persistOnClick:u,buttonContentClassName:c,contentClassName:d,drawShades:f,strategy:h})=>(0,r.jsx)(i.default,{placement:l||"top",buttonContent:s,buttonContentClassName:c,offset:a||[0,2.5],contentClassName:d,drawShades:f,popoverContent:e&&(0,r.jsx)("div",{className:(0,o.cn)("p-2 rounded-lg max-w-[360px] w-full text-xs",{"bg-white text-black":"light"===n,"bg-black text-white":"dark"===n,"group-hover:visible group-hover:z-50":!t}),children:e}),id:"TooltipPopover",trigger:u?"click":"hover",persistOnClick:u,strategy:h})},17390:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.usePriceImpact=void 0;const r=n(96540),i=s(n(93110)),o=n(37178),a=n(76298);t.usePriceImpact=e=>{const t=(0,o.useSwapRouteInfo)(),n=(0,r.useMemo)((()=>new i.default((null==e?void 0:e.priceImpactPct)||0).mul(100)),[null==e?void 0:e.priceImpactPct]),s=(0,r.useMemo)((()=>a.formatNumber.format(n.toDP(4))),[n]);return{priceImpactText:n.lt(.1)?`< ${a.formatNumber.format("0.1")}%`:`~ ${s}%`,priceImpactColor:(0,r.useMemo)((()=>{if(t){if(t.isMediumImpact)return"text-jupiter-primary";if(t.isHighImpact)return"text-perps-red"}return"text-white-50"}),[t]),priceImpactPct:n}}},17888:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestionTags=void 0;const r=n(74848),i=n(62643),o=s(n(93110)),a=n(96540),l=n(78447),u=n(3203),c=s(n(56242)),d=n(9853),f=n(88040),h=n(54108),m=n(17390),p=s(n(371)),x=n(37178),v=n(17012),g=n(29272),b=[];t.useSuggestionTags=({fromTokenInfo:e,toTokenInfo:t,quoteResponse:n})=>{const{data:s}=(0,p.default)({fromTokenInfo:e,toTokenInfo:t}),j=(0,x.useBirdeyeRouteInfo)(),{priceImpactPct:w}=(0,m.usePriceImpact)(n),{data:y}=(0,v.useLstApyFetcher)();return(0,a.useMemo)((()=>{const a={fromToken:[],toToken:[],additional:[]};if(e&&((0,l.checkIsUnknownToken)(e)&&a.fromToken.push((0,r.jsx)(f.UnknownTokenSuggestion,{tokenInfo:e},"unknown"+e.address)),y&&y.apys[e.address]&&a.fromToken.push((0,r.jsx)(g.LSTSuggestion,{tokenInfo:e,apyInPercent:y.apys[e.address]},"lst"+e.symbol))),t&&((0,l.checkIsUnknownToken)(t)&&a.toToken.push((0,r.jsx)(f.UnknownTokenSuggestion,{tokenInfo:t},"unknown"+t.address)),y&&y.apys[t.address]&&a.toToken.push((0,r.jsx)(g.LSTSuggestion,{tokenInfo:t,apyInPercent:y.apys[t.address]},"lst"+t.symbol))),s&&e&&t){const n=s[0]?(0,h.extractTokenExtensionsInfo)(s[0]):void 0,o=s[1]?(0,h.extractTokenExtensionsInfo)(s[1]):void 0,l=[],c=[];(null==n?void 0:n.freezeAuthority)&&!1===b.includes(e.address)&&n.freezeAuthority===i.SystemProgram.programId.toString()==0&&l.push(e),(null==n?void 0:n.permanentDelegate)&&c.push(e),(null==o?void 0:o.freezeAuthority)&&!1===b.includes(t.address)&&o.freezeAuthority===i.SystemProgram.programId.toString()==0&&l.push(t),(null==o?void 0:o.permanentDelegate)&&c.push(t),(l.length>0||c.length>0)&&a.additional.push((0,r.jsx)(u.AuthorityAndDelegatesSuggestion,{freeze:l,permanent:c},"additional-suggestions")),(null==n?void 0:n.transferFee)&&a.additional.push((0,r.jsx)(d.TransferTaxSuggestion,{asset:s[0],transferFee:n.transferFee},"2022"+e.address)),(null==o?void 0:o.transferFee)&&a.additional.push((0,r.jsx)(d.TransferTaxSuggestion,{asset:s[1],transferFee:o.transferFee},"transfer-tax-"+t.address))}const m=w.gt(5),p=new o.default(j.percent).gte(5);return n&&e&&t&&(m||p)&&a.additional.unshift((0,r.jsx)(c.default,{quoteResponse:n,birdeyeRate:j.rate,isHighPriceImpact:m,priceDifferencePct:j.percent,isWarning:j.isWarning,isDanger:j.isDanger,fromTokenInfo:e,toTokenInfo:t})),a}),[j.isDanger,j.isWarning,j.percent,j.rate,e,w,n,t,s,y])}},18385:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848),r=n(52122);t.default=({className:e,content:t,disabled:n=!1,variant:i="light",onClick:o,children:a})=>(0,s.jsxs)("div",{className:"group cursor-pointer",onClick:o,children:[(0,s.jsx)("div",{className:(0,r.cn)("invisible absolute rounded shadow-lg py-1 px-2 right-0 w-full -mt-8 flex justify-center items-center text-center",e,{"bg-white text-black":"light"===i,"bg-black text-white":"dark"===i,"group-hover:visible group-hover:z-50":!n}),children:t}),a]})},18865:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||s(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(55872),t),r(n(3308),t)},19712:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Token2022Info=void 0;const r=n(74848),i=n(96540),o=s(n(92239)),a=s(n(17181)),l=s(n(27962)),u=s(n(2164)),c=n(54108);t.Token2022Info=e=>{const t=e.asset.tokenInfo,n=(0,i.useMemo)((()=>(0,c.extractTokenExtensionsInfo)(e.asset)),[e.asset]);return e.isLoading?(0,r.jsx)("div",{className:"flex justify-center my-5",children:(0,r.jsx)(o.default,{})}):n?(0,r.jsxs)("div",{className:"mt-3 mb-5",children:[(0,r.jsx)("p",{className:"text-center text-xs text-v2-lily",children:"This token utilizes the Token2022 program or Token Extension, which offer a superset of the features provided by the Token Program."}),(0,r.jsx)("p",{className:"text-center text-xs text-warning mt-2",children:"Please trade with caution."}),(0,r.jsxs)("div",{className:"bg-white bg-opacity-5 rounded-lg border border-white border-opacity-10 px-[14px] py-3 mt-5 space-y-2",children:[n.transferFee?(0,r.jsx)(d,{label:"Transfer Fee",content:`${n.transferFee}%`,tooltipText:"A transfer fee derived from the amount being transferred."}):null,n.maxTransferFee?(0,r.jsx)(d,{label:"Max Transfer Fee",content:`${n.maxTransferFee} ${t.symbol}`,tooltipText:"Max cap transfer fee set by the authority mint."}):null,(0,r.jsx)(d,{label:"Freeze Authority",content:n.freezeAuthority?(0,r.jsx)(u.default,{address:n.freezeAuthority}):"False",tooltipText:"Mint accounts can be frozen, rendering them unusable for transactions until unfrozen."}),(0,r.jsx)(d,{label:"Permanent Delegate",content:n.permanentDelegate?(0,r.jsx)(u.default,{address:n.permanentDelegate}):"False",tooltipText:"Token creator can permanently control all tokens."}),(0,r.jsx)(d,{label:"Mint Authority",content:n.mintAuthority?(0,r.jsx)(u.default,{address:n.mintAuthority}):"False",tooltipText:"The token creator has the ability to mint additional tokens."})]})]}):(0,r.jsx)("div",{className:"flex justify-center my-5 text-xs",children:"Could not retrieve Token2022 information."})};const d=e=>{const{tooltipText:t,label:n,content:s}=e;return(0,r.jsxs)("div",{className:"flex justify-between space-x-1",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("p",{className:"text-xs font-semibold text-v2-lily",children:[n,":"]}),(0,r.jsx)(a.default,{content:t,children:(0,r.jsx)("div",{className:"flex items-center ml-[6px] text-v2-lily/50 fill-current",children:(0,r.jsx)(l.default,{height:12,width:12})})})]}),(0,r.jsx)("div",{className:"flex items-center space-x-1 text-right text-white text-xs font-semibold",children:s})]})}},22634:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoinBalanceUSD=void 0;const r=n(74848),i=s(n(93110)),o=n(96540),a=n(4809),l=n(76298);t.CoinBalanceUSD=e=>{var t;const{tokenInfo:n,amount:s,maxDecimals:u,prefix:c=""}=e,{tokenPriceMap:d,getUSDValue:f}=(0,a.useUSDValue)(),h=n.address,m=h&&(null===(t=d[h])||void 0===t?void 0:t.usd)||0,p=(0,o.useMemo)((()=>s&&(0,l.hasNumericValue)(s)?new i.default(s).mul(m):new i.default(0)),[s,m]);return(0,o.useEffect)((()=>{h&&f([h])}),[h,f]),(0,r.jsxs)(r.Fragment,{children:[c,"$",l.formatNumber.format(p,u||2)]})}},26597:function(e,t,n){"use strict";var s=n(96763),r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.useWalletPassThrough=t.WalletPassthroughContext=void 0;const i=n(74848),o=n(37988),a=n(22073),l=n(96540),u=n(44047),c={publicKey:null,wallets:[],wallet:null,connect:()=>r(void 0,void 0,void 0,(function*(){})),select:()=>{},connecting:!1,connected:!1,disconnect:()=>r(void 0,void 0,void 0,(function*(){})),autoConnect:!1,disconnecting:!1,sendTransaction:(e,t,n)=>r(void 0,void 0,void 0,(function*(){return""})),signTransaction:void 0,signAllTransactions:void 0,signMessage:void 0,signIn:void 0};t.WalletPassthroughContext=(0,l.createContext)(c),t.useWalletPassThrough=function(){return(0,l.useContext)(t.WalletPassthroughContext)};const d=({children:e})=>{const n=(0,o.useWallet)();return(0,i.jsx)(t.WalletPassthroughContext.Provider,{value:n,children:e})};t.default=({children:e})=>{var n;const[o]=(0,a.useAtom)(u.appProps),f=null===(n=null==o?void 0:o.passthroughWalletContextState)||void 0===n?void 0:n.wallet,h=(0,l.useMemo)((()=>Object.assign(Object.assign(Object.assign({},c),null==o?void 0:o.passthroughWalletContextState),{disconnect:()=>r(void 0,void 0,void 0,(function*(){var e,t;try{if(null===(e=null==f?void 0:f.adapter)||void 0===e?void 0:e.disconnect)return null===(t=null==f?void 0:f.adapter)||void 0===t?void 0:t.disconnect()}catch(e){s.log(e)}}))})),[null==o?void 0:o.passthroughWalletContextState,null==f?void 0:f.adapter]);return window.Jupiter.enableWalletPassthrough?h?(0,i.jsx)(t.WalletPassthroughContext.Provider,{value:h,children:e}):(0,i.jsx)(i.Fragment,{children:e}):(0,i.jsx)(d,{children:e})}},29272:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LSTSuggestion=void 0;const a=n(74848),l=o(n(18385)),u=n(96540),c=o(n(93110)),d=o(n(27962)),f=i(n(48395)),h=n(13564),m=o(n(17181)),p=n(52122),x=o(n(91106)),v=n(52688);t.LSTSuggestion=({tokenInfo:e,apyInPercent:t})=>{const n=(0,u.useMemo)((()=>{if(t)return new c.default(t).mul(100).toFixed(2)}),[t]),s=(0,h.useMobile)();return(0,a.jsx)(m.default,{persistOnClick:s,placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",content:(0,a.jsxs)("div",{className:"p-2 text-xs",children:[(0,a.jsx)("div",{className:"space-y-2",children:e.address===v.JUPSOL_TOKEN_INFO.address?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"JupSOL is a liquid-staked token, representing SOL staked to Jupiterâ€™s 0% fee validator. Jupiter uses this validator to help land transactions for all users."}),(0,a.jsx)("p",{children:"Swap for this token and hold it in your wallet or across DeFi while enjoying staking yields!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[e.symbol," is a Liquid Staking Token (LST) which can be traded, used in DeFi applications, or transferred while still earning staking rewards."]}),(0,a.jsxs)("p",{children:["Jupiter has our own LST,"," ",(0,a.jsx)(x.default,{href:"https://station.jup.ag/guides/jupsol/jupsol",target:"_blank",rel:"noopener noreferrer",className:"text-v2-primary hover:underline",children:v.JUPSOL_TOKEN_INFO.symbol}),"!"]})]})}),n&&(0,a.jsxs)("div",{className:"mt-4 flex justify-between gap-x-10 rounded-lg border border-[#667085] bg-white/5 px-4 py-2",children:[(0,a.jsx)("div",{className:"text-white/75",children:"Estimated APY:"}),(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[n,"%",(0,a.jsx)(l.default,{variant:"dark",content:(0,a.jsx)("span",{className:"flex rounded-lg text-xs text-white-75",children:"APY estimation based on last few epochs"}),children:(0,a.jsx)("div",{className:"flex items-center fill-current text-white/50",children:(0,a.jsx)(d.default,{height:12,width:12})})})]})]})]}),children:(0,a.jsxs)(f.default,{className:(0,p.cn)(f.HAPPY_CLASS),children:[n?`${e.symbol} ${n}% `:null,"LST"]})})}},29819:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PAIR_ROW_HEIGHT=void 0;const a=n(74848),l=i(n(96540)),u=o(n(93110)),c=n(52688),d=n(78447),f=n(41433),h=n(76298),m=o(n(95065)),p=o(n(37762)),x=o(n(78724)),v=n(17012),g=o(n(57365));t.PAIR_ROW_HEIGHT=72;const b=({mintAddress:e})=>{const{data:t}=(0,v.useLstApyFetcher)(),n=(0,l.useMemo)((()=>{if(!t)return;const n=t.apys[e];return n&&(0,h.hasNumericValue)(n)?new u.default(n).mul(100).toDP(2).toString():void 0}),[t,e]);return(0,a.jsxs)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 text-v3-primary/50 border border-v3-primary/50 font-semibold",children:["LST ",n?`${n}%`:""]})},j=({item:e})=>{const{accounts:t}=(0,f.useAccounts)(),n=(0,l.useRef)(!1),s=(0,l.useRef)(!1),[r,i]=l.default.useState({isVerified:!1,isLST:!1,isToken2022:!1,isFrozen:!1});(0,l.useEffect)((()=>{s.current||n.current||(n.current=!0,setTimeout((()=>{var r,o;const a={isVerified:(0,d.checkIsStrictOrVerified)(e),isLST:Boolean(null===(r=e.tags)||void 0===r?void 0:r.includes("lst")),isToken2022:Boolean((0,d.checkIsToken2022)(e)),isFrozen:(null===(o=t[e.address])||void 0===o?void 0:o.isFrozen)||!1};i(a),n.current=!1,s.current=!0}),0))}),[]);const o=[];if(!r)return null;const{isToken2022:u,isFrozen:c,isLST:h}=r;return(0,a.jsxs)("div",{className:"flex justify-end gap-x-1",children:[c&&(0,a.jsx)("p",{className:"border rounded-md text-xxs leading-none transition-all py-0.5 px-1 border-warning/50 text-warning/50",children:"Frozen"}),u&&(0,a.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-white/20",children:"Token2022"}),null==o?void 0:o.map(((e,t)=>(0,a.jsx)("div",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 bg-black/10 font-semibold text-white/20",children:e},t))),h&&(0,a.jsx)(b,{mintAddress:e.address})]})};t.default=e=>{const{item:n,style:s,onSubmit:r,suppressCloseModal:i,usdValue:o,showExplorer:u=!0,enableUnknownTokenWarning:f=!0}=e,v=l.default.useCallback((()=>{r(n)}),[r,n,i]),b=o&&o.gte(.01)?`$${h.formatNumber.format(o,2)}`:"";return(0,a.jsx)("li",{className:"rounded cursor-pointer px-5 my-1 list-none flex w-full items-center bg-v3-input-background hover:bg-[#1A2633]",style:Object.assign({maxHeight:t.PAIR_ROW_HEIGHT-4,height:t.PAIR_ROW_HEIGHT-4},s),onClick:v,translate:"no",children:(0,a.jsxs)("div",{className:"flex h-full w-full items-center space-x-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"bg-gray-200 rounded-full",children:(0,a.jsx)(m.default,{info:n,width:36,height:36,enableUnknownTokenWarning:f})})}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex flex-col gap-y-px",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:n.symbol}),(0,d.checkIsStrictOrVerified)(n)&&(0,a.jsx)("p",{className:"rounded-md text-xxs leading-none transition-all py-0.5 px-1 text-v3-primary",children:(0,a.jsx)(g.default,{width:18,height:18})})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-white-35 truncate",children:n.address===c.WRAPPED_SOL_MINT.toBase58()?"Solana":n.name}),u?(0,a.jsx)("div",{className:"-ml-1 z-10 w-fit",onClick:e=>e.stopPropagation(),children:(0,a.jsx)(p.default,{tokenInfo:n})}):null]})}),(0,a.jsxs)("div",{className:"text-xs text-v2-lily/50 text-right h-full flex flex-col justify-evenly",children:[(0,a.jsx)(x.default,{mintAddress:n.address,hideZeroBalance:!0}),b?(0,a.jsx)("p",{children:b}):null,(0,a.jsx)(j,Object.assign({},e))]})]})})}},30591:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(74848),o=n(96540),a=n(70870),l=n(75207),u=r(n(24344)),c=r(n(9760)),d=r(n(99259)),f=r(n(61060)),h=n(52122);t.default=()=>{const{fromTokenInfo:e,toTokenInfo:t,onSubmit:n,quoteResponseMeta:r,loading:m,refresh:p}=(0,l.useSwapContext)(),[x]=(0,c.default)(),{setScreen:v}=(0,a.useScreenState)(),g=()=>{p(),v("Initial")},b=(0,o.useCallback)((()=>s(void 0,void 0,void 0,(function*(){v("Swapping"),n()}))),[n,v]);return(0,i.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)("div",{className:"text-white fill-current w-6 h-6 cursor-pointer",onClick:g,children:(0,i.jsx)(u.default,{width:24,height:24})}),(0,i.jsx)("div",{className:"text-white",children:"Review Order"}),(0,i.jsx)("div",{className:" w-6 h-6"})]}),(0,i.jsx)("div",{children:r&&e&&t?(0,i.jsx)(d.default,{quoteResponse:r,fromTokenInfo:e,toTokenInfo:t,loading:m,showFullDetails:!0,containerClassName:"bg-v3-input-background border-none"}):null}),x?(0,i.jsx)(f.default,{size:"lg",className:"w-full mt-4 disabled:opacity-50 !p-0",type:"button",onClick:g,children:(0,i.jsx)("span",{className:"text-sm",children:"Refresh"})}):(0,i.jsx)(f.default,{size:"lg",className:(0,h.cn)("w-full mt-4 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-gradient-to-r from-[#00BEF0] to-[#C7F284]"),type:"button",onClick:b,children:(0,i.jsx)("span",{children:"Confirm"})})]})}},32e3:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=s(n(93110));function o(e){const t=["â‚€","â‚","â‚‚","â‚ƒ","â‚„","â‚…","â‚†","â‚‡","â‚ˆ","â‚‰"],n=e.toString();let s="";for(let e=0;e<n.length;e++)s+=t[parseInt(n.charAt(e),10)];return s}t.default=({value:e,maxSuffix:t})=>{const[n,s,a]=(e=>{const t=i.default.abs(i.default.ceil(new i.default(-1).mul(i.default.log10(e)))).toNumber(),[n,s]=[new i.default(e).toFixed().slice(0,t+2),new i.default(e).toFixed().slice(t+1)];return[t,n,s]})(e);return n<=5?(0,r.jsx)("span",{children:e.toFixed(6)}):(0,r.jsxs)("span",{className:"flex items-center h-4",children:["0.0",(0,r.jsx)("span",{className:"mb-3 text-xl mx-0.5",children:o(n-1)}),a.slice(0,t)]})}},37178:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBirdeyeRouteInfo=t.useSwapRouteInfo=void 0;const s=n(22073),r=(0,s.atom)(null),i=(0,s.atom)({isCheaper:!1,isMoreExp:!1,isWithinTwoPercent:!1,isWithinFivePercent:!1,isDanger:!1,isWarning:!1,percent:0,formattedPercent:"",rate:null,rateDiff:null,apiURL:""});t.useSwapRouteInfo=()=>(0,s.useAtomValue)(r),t.useBirdeyeRouteInfo=()=>(0,s.useAtomValue)(i)},37762:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(10178),o=s(n(26795)),a=n(52122),l=n(76298),u=({tokenInfo:e,className:t})=>{const{getTokenExplorer:n}=(0,i.usePreferredExplorer)();return(0,r.jsxs)("a",{target:"_blank",rel:"noreferrer",className:(0,a.cn)("flex items-center bg-black/25 text-white/75 px-2 py-0.5 space-x-1 rounded cursor-pointer",t),href:n(e.address),onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{className:"text-xxs",children:(0,l.shortenAddress)(e.address)}),(0,r.jsx)(o.default,{})]})};u.displayName="TokenLink",t.default=u},39204:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(42268),a=s(n(20181)),l=n(52122),u=n(13564),c=n(76298);t.default=({placement:e="auto",trigger:t="click",persistOnClick:n=!0,strategy:s="fixed",arrow:d=!1,buttonContent:f,popoverContent:h,contentClassName:m,buttonContentClassName:p,isOpen:x,onClose:v,matchWidth:g,offset:b,drawShades:j=!1})=>{const w=(0,i.useMemo)((()=>void 0===x),[]),y=(0,u.useMobile)(),[_,k]=(0,i.useState)(!w),[N,S]=(0,i.useState)(null),[O,P]=(0,i.useState)(null),M=(0,i.useMemo)((()=>Boolean(h)&&d),[h,d]),C=b?[{name:"offset",options:{offset:b}}]:void 0,{styles:T,attributes:I}=(0,o.usePopper)(N,O,{strategy:s,placement:e,modifiers:C}),A=(0,i.useCallback)((0,a.default)((()=>{w?k(!1):v&&v()}),"hover"===t&&n?50:0),[k,w,v,t,n]),R=(0,i.useCallback)((()=>{A.cancel(),k(!0)}),[k,A]);(0,c.useOutsideClick)({current:O},A);const E=w?_:x,D="hover"===t?y?{onTouchStart:R,onTouchEnd:A}:{onMouseEnter:R,onMouseLeave:A}:{};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({ref:S,onClick:()=>{w?(n&&"hover"===t||"click"===t)&&R():x&&v&&v()},className:(0,l.cn)(p,{"z-50":E})},D,{children:f})),E&&(0,r.jsxs)("div",Object.assign({id:"tooltip",ref:P,style:Object.assign(Object.assign({},T.popper),{maxWidth:g?null==N?void 0:N.clientWidth:"auto"})},I.popper,D,{className:(0,l.cn)("rounded-lg w-auto bg-none shadow-xl dark:bg-white/5 backdrop-blur-xl transition-opacity opacity-0",m,{"z-50 opacity-100":E}),children:[h,M?(0,r.jsx)("div",{id:"arrow",className:"before:absolute absolute before:w-2 w-2 before:h-2 h-2 before:bg-inherit bg-inherit before:visible before:rotate-45 invisible","data-popper-arrow":!0}):null]})),(0,r.jsx)("div",{className:(0,l.cn)("fixed top-0 left-0 w-full h-full transition-all opacity-0 pointer-events-none z-[-1]",{"!backdrop-blur-xxs !bg-black/20 opacity-100 pointer-events-auto z-40":j&&E}),onClick:A})]})}},41433:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAccounts=t.AccountsProvider=t.TokenAccountParser=t.wrapNativeAccount=void 0;const l=n(74848),u=n(37988),c=n(11162),d=n(62643),f=n(70208),h=a(n(39404)),m=i(n(96540)),p=n(52688),x=n(76298),v=n(26597),g=a(n(93110)),b=n(48383),j=new d.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),w=m.default.createContext({accounts:{},nativeAccount:void 0,loading:!0,refresh:()=>{}});t.wrapNativeAccount=function(e,t){if(t)return{pubkey:e,account:t,info:{address:e,mint:p.WRAPPED_SOL_MINT,owner:e,amount:new c.u64(t.lamports.toString()),delegate:null,delegatedAmount:new c.u64(0),isInitialized:!0,isFrozen:!1,isNative:!0,rentExemptReserve:null,closeAuthority:null}}},t.TokenAccountParser=(e,t,n)=>{const s=(e=>{if(null==e||0==e.length)return;const t=c.AccountLayout.decode(e);return t.mint=new d.PublicKey(t.mint),t.owner=new d.PublicKey(t.owner),t.amount=c.u64.fromBuffer(t.amount),0===t.delegateOption?(t.delegate=null,t.delegatedAmount=new c.u64(0)):(t.delegate=new d.PublicKey(t.delegate),t.delegatedAmount=c.u64.fromBuffer(t.delegatedAmount)),t.isInitialized=0!==t.state,t.isFrozen=2===t.state,1===t.isNativeOption?(t.rentExemptReserve=c.u64.fromBuffer(t.isNative),t.isNative=!0):(t.rentExemptReserve=null,t.isNative=!1),0===t.closeAuthorityOption?t.closeAuthority=null:t.closeAuthority=new d.PublicKey(t.closeAuthority),t})(t.data);if(s)return{pubkey:e,account:t,info:s}},t.AccountsProvider=({children:e,refetchIntervalForTokenAccounts:t=1e4})=>{const{publicKey:n,connected:s}=(0,v.useWalletPassThrough)(),{connection:r}=(0,u.useConnection)(),i=(0,m.useCallback)((()=>o(void 0,void 0,void 0,(function*(){if(!n||!s)return null;const e=yield r.getAccountInfo(n);return e?{pubkey:n,balance:new g.default((0,x.fromLamports)((null==e?void 0:e.lamports)||0,9)).toString(),balanceLamports:new h.default((null==e?void 0:e.lamports)||0),decimals:9,isFrozen:!1}:void 0}))),[n,s,r]),a=(0,m.useCallback)((()=>o(void 0,void 0,void 0,(function*(){if(!n||!s)return{};const[e,t]=yield Promise.all([c.TOKEN_PROGRAM_ID,j].map((e=>r.getParsedTokenAccountsByOwner(n,{programId:e},"confirmed"))));return[...e.value,...t.value].reduce(((e,t)=>(0,x.getAssociatedTokenAddressSync)(new d.PublicKey(t.account.data.parsed.info.mint),n).equals(t.pubkey)?(e[t.account.data.parsed.info.mint]={balance:t.account.data.parsed.info.tokenAmount.uiAmountString,balanceLamports:new h.default(t.account.data.parsed.info.tokenAmount.amount),pubkey:t.pubkey,decimals:t.account.data.parsed.info.tokenAmount.decimals,isFrozen:2===t.account.data.parsed.info.state},e):e),{})}))),[n,s,r]),{data:p,isLoading:y,refetch:_}=(0,f.useQuery)(["accounts",null==n?void 0:n.toString()],(()=>o(void 0,void 0,void 0,(function*(){const[e,t]=yield Promise.all([i(),a()]);return{nativeAccount:e,accounts:t}}))),{enabled:Boolean((null==n?void 0:n.toString())&&s&&(0,b.getTerminalInView)()),refetchInterval:t,refetchIntervalInBackground:!1});return(0,l.jsx)(w.Provider,{value:{accounts:(null==p?void 0:p.accounts)||{},nativeAccount:null==p?void 0:p.nativeAccount,loading:y,refresh:_},children:e})},t.useAccounts=()=>(0,m.useContext)(w)},43493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848);t.default=({errors:e})=>(0,s.jsx)(s.Fragment,{children:Object.keys(e).map((t=>(0,s.jsx)("div",{className:"w-full mt-5 bg-[#292A33] border border-black/10 dark:border-white/25 shadow-row-dark py-3 px-5 space-y-1 rounded-lg backdrop-blur-[20px]",children:(0,s.jsx)("div",{className:"flex items-start space-x-2.5",children:(0,s.jsxs)("div",{className:"flex-grow",children:[(0,s.jsx)("p",{className:"text-[12px] leading-[1.67] font-bold !text-[#F04A44]",children:e[t].title}),e[t].message?(0,s.jsx)("p",{className:"text-[12px] leading-[1.17] font-medium dark:text-white/50 text-black/50",children:e[t].message}):null]})})},t)))})},46850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkConfigurationProvider=t.useNetworkConfiguration=t.NetworkConfigurationContext=void 0;const s=n(74848),r=n(37988),i=n(96540);t.NetworkConfigurationContext=(0,i.createContext)({}),t.useNetworkConfiguration=function(){return(0,i.useContext)(t.NetworkConfigurationContext)},t.NetworkConfigurationProvider=({localStoragePrefix:e,children:n})=>{const[i,o]=(0,r.useLocalStorage)(`${e}-network`,"mainnet-beta");return(0,s.jsx)(t.NetworkConfigurationContext.Provider,{value:{networkConfiguration:i,setNetworkConfiguration:o},children:n})}},47790:()=>{},48395:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DANGER_CLASS=t.WARNING_CLASS=t.SUGGESTION_CLASS=t.HAPPY_CLASS=void 0;const s=n(74848),r=n(52122);t.HAPPY_CLASS="text-v2-primary bg-v2-primary/5 border border-v2-primary/5",t.SUGGESTION_CLASS="text-v2-lily bg-v2-lily/5 border border-v2-lily/5",t.WARNING_CLASS="text-text-warning-primary bg-utility-warning-50 border border-utility-warning-300",t.DANGER_CLASS="text-utility-error-700 bg-utility-error-50 border border-utility-error-200",t.default=e=>(0,s.jsx)("div",{className:(0,r.cn)("py-1.5 px-2","flex items-center gap-x-1.5","select-none transition-all fill-current","rounded-md !text-xxs font-[500] !leading-none whitespace-nowrap",e.className),children:e.children})},52688:(e,t,n)=>{"use strict";var s=n(65606);Object.defineProperty(t,"__esModule",{value:!0}),t.JUPSOL_TOKEN_INFO=t.FREEZE_AUTHORITY_LINK=t.TOKEN_2022_PROGRAM_ID=t.INITIAL_FORM_CONFIG=t.SOL_MINT_TOKEN_INFO=t.WRAPPED_SOL_MINT=t.JUPITER_DEFAULT_RPC=t.JLP_MINT=t.USDT_MINT=t.USDC_MINT=void 0;const r=n(62643);t.USDC_MINT=new r.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),t.USDT_MINT=new r.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),t.JLP_MINT=new r.PublicKey("27G8MtK7VtTcCHkpASjSDdkWWYfoqT6ggEuKidVJidD4"),t.JUPITER_DEFAULT_RPC=s.env.NEXT_PUBLIC_JUPITER_DEFAULT_RPC||"https://neat-hidden-sanctuary.solana-mainnet.discover.quiknode.pro/2af5315d336f9ae920028bbb90a73b724dc1bbed",t.WRAPPED_SOL_MINT=new r.PublicKey("So11111111111111111111111111111111111111112"),t.SOL_MINT_TOKEN_INFO={chainId:101,address:"So11111111111111111111111111111111111111112",symbol:"SOL",name:"Wrapped SOL",decimals:9,logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/So11111111111111111111111111111111111111112/logo.png",tags:[],extensions:{website:"https://solana.com/",serumV3Usdc:"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT",serumV3Usdt:"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1",coingeckoId:"solana"}},t.INITIAL_FORM_CONFIG=Object.freeze({simulateWalletPassthrough:!1,strictTokenList:!0,defaultExplorer:"Solana Explorer",formProps:{fixedInputMint:!1,fixedOutputMint:!1,fixedAmount:!1,initialAmount:"",initialInputMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",initialOutputMint:t.WRAPPED_SOL_MINT.toString()}}),t.TOKEN_2022_PROGRAM_ID=new r.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),t.FREEZE_AUTHORITY_LINK="https://station.jup.ag/guides/jupiter-swap/how-swap-works/how-swap-works#freeze-authority",t.JUPSOL_TOKEN_INFO={address:"jupSoLaHXQiZZTSfEWMTRRgpnyFm8f6sZdosWBjx93v",chainId:101,name:"Jupiter Staked SOL",symbol:"JupSOL",decimals:9,logoURI:"https://static.jup.ag/jupSOL/icon.png",tags:["verified","community","strict","lst"],freeze_authority:null}},54108:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.extractTokenExtensionsInfo=void 0;const r=s(n(93110)),i=n(76298);t.extractTokenExtensionsInfo=function(e){if(!e.parsed.info.extensions)return null;const t=e.parsed.info.extensions.find((e=>"transferFeeConfig"===e.extension)),n=(null==t?void 0:t.state.newerTransferFee)||(null==t?void 0:t.state.olderTransferFee),s=null==n?void 0:n.transferFeeBasisPoints,o=null==n?void 0:n.maximumFee,a=e.parsed.info.extensions.find((e=>"permanentDelegate"===e.extension)),l=null==a?void 0:a.state.delegate;return{tokenExtension:e.parsed.info.extensions.length>0,transferFee:s?new r.default(s).div(100).toFixed(1):null,maxTransferFee:o?i.formatNumber.format(new r.default(o).div(Math.pow(10,e.tokenInfo.decimals))):null,mintAuthority:e.parsed.info.mintAuthority,freezeAuthority:e.parsed.info.freezeAuthority,permanentDelegate:l}}},55872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletModalButton=void 0;const s=n(74848),r=n(96540),i=n(26597);t.WalletModalButton=({setIsWalletModalOpen:e})=>{const{connecting:t}=(0,i.useWalletPassThrough)(),n=(0,r.useCallback)((t=>{window.Jupiter.enableWalletPassthrough&&window.Jupiter.onRequestConnectWallet?window.Jupiter.onRequestConnectWallet():e(!0)}),[e]);return(0,s.jsx)("button",{type:"button",className:"py-2 px-3 h-7 flex items-center rounded-2xl text-xs bg-[#1A2633] text-white",onClick:n,children:t?(0,s.jsx)("span",{children:(0,s.jsx)("span",{children:"Connecting..."})}):(0,s.jsx)("span",{children:(0,s.jsx)("span",{children:"Connect Wallet"})})})}},56242:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(74848),l=o(n(93110)),u=o(n(75951)),c=i(n(96540)),d=n(89940),f=i(n(48395)),h=o(n(27962)),m=o(n(91106)),p=o(n(22067)),x=n(4809),v=n(37178),g=n(13564),b=o(n(61060)),j=n(52122),w=o(n(17181));t.default=({birdeyeRate:e,isWarning:t,isDanger:n,isHighPriceImpact:s,priceDifferencePct:r,fromTokenInfo:i,toTokenInfo:o,quoteResponse:y})=>{const{tokenPriceMap:_}=(0,x.useUSDValue)(),{inAmount:k,outAmount:N,priceImpactPct:S}=y,O=(0,c.useMemo)((()=>new l.default(k.toString()).div(Math.pow(10,i.decimals))),[k,i.decimals]),P=(0,c.useMemo)((()=>{var e;return O.mul((null===(e=_[i.address||""])||void 0===e?void 0:e.usd)||0)}),[O,i.address,_]),M=(0,c.useMemo)((()=>P.gte(1e3)),[P]),[C,T]=c.default.useState(!0),I=c.default.useCallback((e=>{e.stopPropagation(),T((e=>!e))}),[]),A=(0,v.useSwapRouteInfo)(),R=(0,c.useMemo)((()=>t||(null==A?void 0:A.isMediumImpact)),[t,null==A?void 0:A.isMediumImpact]),E=(0,c.useMemo)((()=>n||(null==A?void 0:A.isHighImpact)),[n,null==A?void 0:A.isHighImpact]),D=(0,g.useMobile)(),{pillTitle:L,title:F,description:V}=(0,c.useMemo)((()=>s?{pillTitle:`${new l.default(S).mul(100).toNumber().toFixed(2)}% Price Impact`,title:M?"Looks like your trade size is too large.":"Looks like you are getting a bad rate.",description:M?(0,a.jsx)(m.default,{shallow:!0,target:"_blank",href:`https://jup.ag/dca/${i.address}-${o.address}?${new URLSearchParams({inAmount:O.toString(),frequency:"minute",frequencyValue:"10"}).toString()}`,className:"text-xs cursor-pointer flex items-center justify-center mb-2",children:(0,a.jsx)(b.default,{size:"sm",type:"button",className:"!w-[120px]",children:(0,a.jsxs)("div",{className:"flex gap-x-2 items-center justify-center",children:[(0,a.jsx)("span",{children:"Go to DCA"}),(0,a.jsx)(p.default,{})]})})}):"Please refresh quote or trade with caution."}:{pillTitle:`${r.toFixed(2)}% Price Difference`,title:"Looks like you are getting a bad rate.",description:"Please refresh quote or trade with caution."}),[s,M,S,r,i,o,O]);return(0,a.jsx)(w.default,{placement:"top",persistOnClick:D,buttonContentClassName:"!cursor-help",content:(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("p",{className:"text-v2-lily text-center",children:F})}),(0,a.jsx)("div",{className:(0,j.cn)("text-center mb-4",{"text-jupiter-primary":R,"text-perps-red":E}),children:V}),(0,a.jsxs)("div",{className:"flex flex-col bg-[#2B2C32] rounded-lg p-3 w-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-x-5",children:[(0,a.jsx)("p",{className:"text-white/50",children:"Quoted Rate"}),(0,a.jsx)("button",{type:"button",className:"cursor-pointer flex",onClick:I,children:(0,a.jsx)(d.ExchangeRateComponent,{className:(0,j.cn)("text-xs font-medium text-white"),textClassName:(0,j.cn)({"text-jupiter-primary":R,"text-perps-red":E}),inputAmount:u.default.BigInt(k),outputAmount:u.default.BigInt(N),inputPair:i,outputPair:o,reversible:!0,isReversed:C})})]}),e&&e>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-3 gap-x-5",children:[(0,a.jsx)("p",{className:"text-white/50 text-nowrap",children:"Market rate"}),(0,a.jsx)("button",{type:"button",className:"cursor-pointer flex",onClick:I,children:(0,a.jsx)(d.ExchangeRateComponent,{className:(0,j.cn)("text-xs font-medium text-white"),textClassName:(0,j.cn)({"text-jupiter-primary":R,"text-perps-red":E}),inputAmount:u.default.BigInt(k),outputAmount:u.default.BigInt(new l.default(k.toString()).div(Math.pow(10,i.decimals)).mul(e).mul(Math.pow(10,o.decimals)).toFixed(0)),inputPair:i,outputPair:o,reversible:!0,isReversed:C})})]})]})]}),children:(0,a.jsxs)(f.default,{className:(0,j.cn)(E?f.DANGER_CLASS:f.WARNING_CLASS),children:[(0,a.jsx)(h.default,{width:10,height:10}),L]})})}},57365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848);t.default=({width:e=24,height:t=24})=>(0,s.jsxs)("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M13.8179 4.54512L13.6275 4.27845C12.8298 3.16176 11.1702 3.16176 10.3725 4.27845L10.1821 4.54512C9.76092 5.13471 9.05384 5.45043 8.33373 5.37041L7.48471 5.27608C6.21088 5.13454 5.13454 6.21088 5.27608 7.48471L5.37041 8.33373C5.45043 9.05384 5.13471 9.76092 4.54512 10.1821L4.27845 10.3725C3.16176 11.1702 3.16176 12.8298 4.27845 13.6275L4.54512 13.8179C5.13471 14.2391 5.45043 14.9462 5.37041 15.6663L5.27608 16.5153C5.13454 17.7891 6.21088 18.8655 7.48471 18.7239L8.33373 18.6296C9.05384 18.5496 9.76092 18.8653 10.1821 19.4549L10.3725 19.7215C11.1702 20.8382 12.8298 20.8382 13.6275 19.7215L13.8179 19.4549C14.2391 18.8653 14.9462 18.5496 15.6663 18.6296L16.5153 18.7239C17.7891 18.8655 18.8655 17.7891 18.7239 16.5153L18.6296 15.6663C18.5496 14.9462 18.8653 14.2391 19.4549 13.8179L19.7215 13.6275C20.8382 12.8298 20.8382 11.1702 19.7215 10.3725L19.4549 10.1821C18.8653 9.76092 18.5496 9.05384 18.6296 8.33373L18.7239 7.48471C18.8655 6.21088 17.7891 5.13454 16.5153 5.27608L15.6663 5.37041C14.9462 5.45043 14.2391 5.13471 13.8179 4.54512Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M9 12L10.8189 13.8189V13.8189C10.9189 13.9189 11.0811 13.9189 11.1811 13.8189V13.8189L15 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})},61060:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=s(n(96540)),o=n(52122),a=i.default.forwardRef((({onClick:e,disabled:t,children:n,highlighted:s,className:i="",size:a="md",type:l,bgClass:u,rounded:c},d)=>{const f="sm"===a?"px-4 py-2.5 text-xs":"md"===a?"px-4 py-3 text-sm font-semibold":"lg"===a?"p-5 text-md font-semibold":void 0,h=u||"text-white bg-[#1A2633] dark:bg-black/50";return(0,r.jsx)("button",{type:l,ref:d,className:(0,o.cn)({relative:!0,"jup-gradient":s,"opacity-50 cursor-not-allowed":t,[h]:!0,[i]:!0,[c||"rounded-xl"]:!0}),disabled:t,onClick:e,children:(0,r.jsx)("div",{className:`${f} h-full w-full leading-none`,children:n})})}));a.displayName="JupButton",t.default=a},61909:()=>{},69042:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(75207),a=s(n(85416)),l=s(n(8703)),u=n(18865),c=n(41433);t.default=({setIsWalletModalOpen:e})=>{const{form:t,refresh:n}=(0,o.useSwapContext)(),{refresh:s}=(0,c.useAccounts)(),d=(0,i.useCallback)((()=>{s(),n()}),[s,n]),f=(0,i.useMemo)((()=>`https://jup.ag/swap/${t.fromMint}-${t.toMint}?inAmount=${t.fromValue}`),[t]);return(0,r.jsx)("div",{className:"mt-2 h-7 pl-3 pr-2",children:(0,r.jsxs)("div",{className:"w-full flex items-center justify-between ",children:[(0,r.jsxs)("a",{href:f,target:"_blank",rel:"noreferrer noopener",className:"flex items-center space-x-2",children:[(0,r.jsx)(l.default,{width:24,height:24}),(0,r.jsx)("span",{className:"font-bold text-sm text-white",children:"dice dex"})]}),(0,r.jsxs)("div",{className:"flex space-x-1 items-center",children:[(0,r.jsx)("button",{type:"button",className:"p-2 h-7 w-7 flex items-center justify-center border rounded-full border-white/10 bg-black/10 text-white/50 fill-current",onClick:d,children:(0,r.jsx)(a.default,{})}),(0,r.jsx)(u.WalletButton,{setIsWalletModalOpen:e})]})]})})}},70870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenProvider=t.useScreenState=t.ScreenStateContext=void 0;const s=n(74848),r=n(96540);t.ScreenStateContext=(0,r.createContext)({screen:"Initial",setScreen(){}}),t.useScreenState=function(){return(0,r.useContext)(t.ScreenStateContext)},t.ScreenProvider=({children:e})=>{const[n,i]=(0,r.useState)("Initial");return(0,s.jsx)(t.ScreenStateContext.Provider,{value:{screen:n,setScreen:i},children:e})}},72320:function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PAIR_ROW_HEIGHT=void 0;const i=n(74848),o=n(96540),a=r(n(76148)),l=n(5373),u=r(n(20181)),c=n(70208),d=r(n(24344)),f=r(n(48694)),h=r(n(29819)),m=n(7302),p=n(1420),x=n(84160),v=n(41433),g=n(52122);t.PAIR_ROW_HEIGHT=72;const b=a.default,j=(0,o.forwardRef)((function(e,t){return(0,i.jsx)(l.FixedSizeList,Object.assign({},e,{ref:t}))}));t.default=function({onSubmit:e,tokenInfos:t,onClose:n}){const{tokenMap:r}=(0,m.useTokenContext)(),{sortTokenListByBalance:a,mintToUsdValue:l}=(0,p.useSortByValue)(),{data:w}=(0,c.useQuery)({queryKey:["blueChipTokens"],queryFn:()=>x.searchService.search(""),staleTime:3e5}),{accounts:y,loading:_}=(0,v.useAccounts)(),{data:k}=(0,c.useQuery)({queryKey:["userBalanceTokens",y],queryFn:()=>s(this,void 0,void 0,(function*(){const e=Object.keys(y).filter((e=>y[e].balanceLamports.gtn(0)));return x.searchService.getUserBalanceTokenInfo(e)})),enabled:Object.keys(y).length>0,staleTime:3e5}),{mutateAsync:N,isLoading:S}=(0,c.useMutation)((e=>s(this,void 0,void 0,(function*(){return yield x.searchService.search(e)})))),O=(0,o.useRef)(""),[P,M]=(0,o.useState)(t),C=(0,o.useCallback)((e=>s(this,void 0,void 0,(function*(){if(!e){const e=yield a([...w||[],...k||[]]);return void M(e)}const t=yield N(e);M(t),t.forEach((e=>r.set(e.address,e)))}))),[w,k,a,N,r]),T=(0,o.useMemo)((()=>(0,u.default)((e=>{C(e)}),200)),[C]),I=(0,o.useCallback)((e=>{M([]),O.current=e.target.value,T(e.target.value)}),[T]),A=(0,o.createRef)(),R=(0,o.createRef)();return(0,o.useEffect)((()=>{var e;null===(e=A.current)||void 0===e||e.focus()}),[A]),(0,o.useEffect)((()=>{_||T(O.current)}),[T,_]),(0,i.jsxs)("div",{className:"flex flex-col h-full w-full py-4 px-2 bg-black",children:[(0,i.jsxs)("div",{className:"flex w-full justify-between",children:[(0,i.jsx)("div",{className:"text-white fill-current w-6 h-6 cursor-pointer",onClick:n,children:(0,i.jsx)(d.default,{width:24,height:24})}),(0,i.jsx)("div",{className:"text-white",children:"Select Token"}),(0,i.jsx)("div",{className:"w-6 h-6"})]}),(0,i.jsxs)("div",{className:"flex px-5 mt-4 w-[98%] rounded-xl bg-v2-lily/10",style:{height:56,maxHeight:56},children:[(0,i.jsx)(f.default,{}),(0,i.jsx)("input",{autoComplete:"off",className:"w-full rounded-xl ml-4 truncate bg-transparent text-white/50 placeholder:text-white/20",placeholder:"Search",onChange:I,ref:A})]}),(0,i.jsxs)("div",{className:"mt-2",style:{flexGrow:1},children:[P.length>0&&(0,i.jsx)(b,{children:({height:t,width:n})=>(0,i.jsx)(j,{ref:R,height:t,width:n-2,itemCount:P.length,itemSize:72,itemData:{searchResult:P,onSubmit:e,mintToUsdValue:l},className:(0,g.cn)("overflow-y-scroll mr-1 min-h-[12rem] px-5 webkit-scrollbar"),children:e=>{const{data:t,index:n,style:s}=e,r=t.searchResult[n];return(0,i.jsx)(h.default,{item:r,style:s,onSubmit:t.onSubmit,usdValue:t.mintToUsdValue.get(r.address)},r.address)}})}),S?(0,i.jsx)("div",{className:"mt-4 mb-4 text-center text-white/50",children:(0,i.jsx)("span",{children:"Loading..."})}):0===P.length?(0,i.jsx)("div",{className:"mt-4 mb-4 text-center text-white/50",children:(0,i.jsx)("span",{children:"No tokens found"})}):null]})]})}},75207:function(e,t,n){"use strict";var s=n(96763),r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SwapContextProvider=t.PRIORITY_MAXIMUM_SUGGESTED=t.PRIORITY_TURBO=t.PRIORITY_HIGH=t.PRIORITY_NONE=t.useSwapContext=t.SwapTransactionTimeoutError=t.SwapContext=void 0;const o=n(74848),a=i(n(93110)),l=i(n(75951)),u=n(96540),c=n(52688),d=n(76298),f=n(70870),h=n(7302),m=n(26597),p=n(41433),x=n(98570),v=n(37450);t.SwapContext=(0,u.createContext)(null);class g extends Error{constructor(){super("Transaction timed-out")}}t.SwapTransactionTimeoutError=g,t.useSwapContext=function(){const e=(0,u.useContext)(t.SwapContext);if(!e)throw new Error("Missing SwapContextProvider");return e},t.PRIORITY_NONE=0,t.PRIORITY_HIGH=5e-6,t.PRIORITY_TURBO=5e-4,t.PRIORITY_MAXIMUM_SUGGESTED=.01;const b={fromMint:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",toMint:c.WRAPPED_SOL_MINT.toString(),fromValue:"",toValue:""};t.SwapContextProvider=e=>{var n,i;const{displayMode:g,scriptDomain:j,formProps:w,children:y}=e,{screen:_}=(0,f.useScreenState)(),{isLoaded:k,getTokenInfo:N}=(0,h.useTokenContext)(),{wallet:S}=(0,m.useWalletPassThrough)(),{refresh:O}=(0,p.useAccounts)(),P=(0,u.useMemo)((()=>{var e;return null===(e=null==S?void 0:S.adapter.publicKey)||void 0===e?void 0:e.toString()}),[null==S?void 0:S.adapter.publicKey]),M=(0,u.useMemo)((()=>Object.assign(Object.assign({},b),w)),[w]),[C,T]=(0,u.useState)({fromMint:null!==(n=null==M?void 0:M.initialInputMint)&&void 0!==n?n:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",toMint:null!==(i=null==M?void 0:M.initialOutputMint)&&void 0!==i?i:c.WRAPPED_SOL_MINT.toString(),fromValue:"",toValue:""}),[I,A]=(0,u.useState)({}),R=(0,u.useMemo)((()=>k&&C.fromMint?N(C.fromMint):null),[C.fromMint,k,N]),E=(0,u.useMemo)((()=>k&&C.toMint?N(C.toMint):null),[C.toMint,N,k]),D=(0,u.useCallback)((()=>{if(!(null==M?void 0:M.initialAmount)||!R||!E)return;const e=e=>{var t;const n=e?N(e):void 0;if(n)return String((0,d.fromLamports)(l.default.BigInt(null!==(t=M.initialAmount)&&void 0!==t?t:0),n.decimals))};setTimeout((()=>{T((t=>{var n;return Object.assign(Object.assign({},t),{fromValue:null!==(n=e(t.fromMint))&&void 0!==n?n:""})}))}),0)}),[M.initialAmount,R,N,E]);(0,u.useEffect)((()=>{D()}),[M.initialAmount,D]);const L=(0,d.useDebounce)(C,250),F=(0,u.useMemo)((()=>R&&L.fromValue&&(0,d.hasNumericValue)(L.fromValue)?l.default.BigInt(new a.default(L.fromValue).mul(Math.pow(10,R.decimals)).floor().toFixed()):l.default.BigInt(0)),[L.fromValue,R]),{data:V,isFetching:B,error:U,refetch:W,errorUpdatedAt:q,dataUpdatedAt:$,isSuccess:z,isError:H}=(0,x.useQuoteQuery)({inputMint:L.fromMint,outputMint:L.toMint,amount:F.toString(),taker:P}),G=((0,u.useMemo)((()=>{if(U)return"COULD_NOT_FIND_ANY_ROUTE"}),[U]),(0,u.useMemo)((()=>B?(new Date).getTime():H?new Date(q).getTime():z?new Date($).getTime():void 0),[B,q,$,H,z])),[K,J]=(0,u.useState)(null);(0,u.useEffect)((()=>{J(V||null)}),[V]),(0,u.useEffect)((()=>{C.fromValue||K?T((e=>{const t=Object.assign({},e);if(!R||!E)return e;const{outAmount:n}=(null==K?void 0:K.quoteResponse)||{};return t.toValue=n?new a.default(n.toString()).div(Math.pow(10,E.decimals)).toFixed():"",t})):T((e=>Object.assign(Object.assign({},e),{fromValue:"",toValue:""})))}),[C.fromValue,R,K,E]);const[Y,Z]=(0,u.useState)(void 0),[Q,X]=(0,u.useState)(null),{mutateAsync:ee}=(0,v.useUltraSwapMutation)(),te=(0,u.useCallback)((()=>r(void 0,void 0,void 0,(function*(){if(!P||!(null==S?void 0:S.adapter)||!K)return null;Z({txid:"",status:"loading"});try{if(!R)throw new Error("Missing fromTokenInfo");if(!E)throw new Error("Missing toTokenInfo");yield ee({quoteResponseMeta:K,fromTokenInfo:R,toTokenInfo:E,setTxStatus:Z,setLastSwapResult:X})}catch(e){s.log("Swap error",e)}}))),[P,null==S?void 0:S.adapter,K,ee,R,E]),ne=(0,u.useCallback)((({resetValues:e}={resetValues:!1})=>{e?(T(b),D()):T((e=>Object.assign(Object.assign({},e),{toValue:""}))),J(null),A({}),X(null),Z(void 0),O()}),[O,D]);return(0,u.useEffect)((()=>{"function"==typeof window.Jupiter.onFormUpdate&&window.Jupiter.onFormUpdate(C)}),[C]),(0,u.useEffect)((()=>{"function"==typeof window.Jupiter.onScreenUpdate&&window.Jupiter.onScreenUpdate(_)}),[_]),(0,o.jsx)(t.SwapContext.Provider,{value:{form:C,setForm:T,errors:I,setErrors:A,fromTokenInfo:R,toTokenInfo:E,quoteResponseMeta:K,setQuoteResponseMeta:J,onSubmit:te,lastSwapResult:Q,reset:ne,refresh:W,loading:B,quoteError:U,lastRefreshTimestamp:G,displayMode:g,formProps:M,scriptDomain:j,swapping:{txStatus:Y}},children:y})}},75343:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextProvider=void 0;const a=n(74848),l=n(37988),u=i(n(96540)),c=n(62643),d=n(96540),f=n(46850),h=n(10178),m=()=>{},p=({autoConnect:e,endpoint:t,connectionObj:n,children:s})=>{const r=(()=>{if("undefined"!=typeof window)return window.Jupiter.enableWalletPassthrough})(),i=(0,d.useMemo)((()=>[]),[r]),[f,h]=(0,u.useState)({show:!1,message:""}),p=(0,d.useMemo)((()=>r?u.default.Fragment:({children:t})=>(0,a.jsx)(l.UnifiedWalletProvider,{wallets:i,config:{env:"mainnet-beta",autoConnect:void 0===e||e,metadata:{name:"Jupiter Terminal",url:"https://terminal.jup.ag",description:"An open-sourced, lite version of Jupiter that provides end-to-end swap flow by linking it in your HTML. Check out the visual demo for the various integration modes below.          ",iconUrls:[]},hardcodedWallets:[],walletPrecedence:[],notificationCallback:{onConnect:m,onConnecting:m,onDisconnect:m,onNotInstalled:({walletName:e,metadata:t})=>{h({show:!0,message:(0,a.jsxs)("p",{className:"space-y-1",children:[e," is not installed.",(0,a.jsxs)("p",{className:"space-x-1",children:[(0,a.jsxs)("a",{className:"underline font-semibold",target:"_blank",rel:"noopener noreferrer",href:t.url,children:["Visit ",e," website"]}),(0,a.jsx)("span",{children:"to install it."})]})]})}),setTimeout((()=>{h({show:!1,message:""})}),5e3)}},theme:"jupiter"},children:t})),[e,r,i]),x=(0,d.useMemo)((()=>{const e=t?new c.Connection(t):n||void 0;if(e)return new Proxy(e,{get:(e,t,n)=>"_rpcRequest"===t?(...n)=>o(void 0,void 0,void 0,(function*(){var s,r,i,o;const[a]=n;if("getLatestBlockhash"===a){const a=yield e[t](...n),l=null===(r=null===(s=null==a?void 0:a.result)||void 0===s?void 0:s.context)||void 0===r?void 0:r.apiVersion,u=null===(o=null===(i=null==a?void 0:a.result)||void 0===i?void 0:i.value)||void 0===o?void 0:o.lastValidBlockHeight,c=l.startsWith("2")?u:u-150;return Promise.resolve(Object.assign(Object.assign({},a),{id:a.id.toString(),result:Object.assign(Object.assign({},a.result),{value:Object.assign(Object.assign({},a.result.value),{lastValidBlockHeight:Number(c)})})}))}return e[t](...n)})):Reflect.get(e,t,n)});throw new Error("No connection object or endpoint provided")}),[n,t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ConnectionContext.Provider,{value:{connection:x},children:(0,a.jsx)(p,{children:s})}),f.show&&f.message?(0,a.jsx)("div",{className:"absolute bottom-2 w-full px-2",children:(0,a.jsx)("div",{className:"w-full h-full bg-white/10 rounded-lg p-2 text-warning text-xs",children:f.message})}):null]})};t.ContextProvider=e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(f.NetworkConfigurationProvider,{children:(0,a.jsx)(p,Object.assign({},e,{children:(0,a.jsx)(h.PreferredExplorerProvider,{defaultExplorer:e.defaultExplorer,children:e.children})}))})})},78724:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(74848),l=i(n(96540)),u=n(26597),c=n(41433),d=n(76298),f=n(52688),h=o(n(93110));t.default=e=>{const{accounts:t,nativeAccount:n}=(0,c.useAccounts)(),{connected:s}=(0,u.useWalletPassThrough)(),r=l.useMemo((()=>{const s=e.mintAddress===f.WRAPPED_SOL_MINT.toString()?n:t[e.mintAddress];if(!s)return"";const r=new h.default(s.balanceLamports.toString()).div(Math.pow(10,s.decimals));return d.formatNumber.format(r,s.decimals)}),[t,n,e.mintAddress]);return(!e.hideZeroBalance||"0"!==r&&r)&&s?(0,a.jsx)("span",{translate:"no",children:r}):null}},79750:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=s(n(18385)),o=n(76298),a=s(n(93110));t.default=({hasSerumDeposit:e,hasAtaDeposit:t,feeInformation:n})=>e||t?(0,r.jsxs)("div",{className:"flex items-start justify-between text-xs",children:[(0,r.jsxs)("div",{className:"flex w-[50%] text-white/50",children:[(0,r.jsx)("span",{children:"Deposit"}),(0,r.jsx)(i.default,{variant:"dark",className:"-mt-24",content:(0,r.jsx)("div",{className:"max-w-xs p-2 rounded-lg text-white-75",children:(0,r.jsxs)("ul",{className:"pl-2",children:[e&&(0,r.jsx)("li",{children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:"Open serum require an OpenOrders account but it can be closed later on."})," ",(0,r.jsx)("a",{className:"underline",target:"_blank",rel:"noopener noreferrer",href:"https://docs.google.com/document/d/1qEWc_Bmc1aAxyCUcilKB4ZYpOu3B0BxIbe__dRYmVns",children:(0,r.jsx)("span",{children:"Check here"})}),"."]})}),t&&(0,r.jsx)("li",{children:(0,r.jsx)("p",{children:(0,r.jsx)("span",{children:"You need to have the token program in order to execute the trade."})})})]})}),children:(0,r.jsx)("span",{className:"ml-1 cursor-pointer",children:"[?]"})})]}),(0,r.jsx)("div",{className:"w-[50%] text-white/50 text-xs text-right",children:(()=>{var s,i,l;if(!n)return"Unable to determine fees";const u=[t&&(0,r.jsx)("p",{children:(0,r.jsxs)("span",{children:[o.formatNumber.format(null==n?void 0:n.ataDeposits.reduce(((e,t)=>e.add(t)),new a.default(0)).div(Math.pow(10,9)))," ","SOL for ",null===(s=null==n?void 0:n.ataDeposits)||void 0===s?void 0:s.length," ",((null===(i=null==n?void 0:n.ataDeposits)||void 0===i?void 0:i.length)||0)>0?"ATA account":"ATA accounts"]})},"ata"),e&&(0,r.jsx)("p",{children:(0,r.jsxs)("span",{children:[o.formatNumber.format(null==n?void 0:n.openOrdersDeposits.reduce(((e,t)=>e.add(t)),new a.default(9)).div(Math.pow(10,9)))," ","SOL for ",null==n?void 0:n.openOrdersDeposits.length," ",((null===(l=null==n?void 0:n.openOrdersDeposits)||void 0===l?void 0:l.length)||0)>0?"Serum OpenOrders account":"Serum OpenOrders accounts"]})},"serum")].filter(Boolean);return u.length?u:"-"})()})]}):null},81400:function(e,t,n){"use strict";var s=n(96763),r=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(74848),o=n(96540),a=n(70208),l=n(37988);t.default=()=>{const[e,t]=(0,o.useState)([]),{connection:n}=(0,l.useConnection)();(0,a.useQuery)(["tps-monitor"],(()=>r(void 0,void 0,void 0,(function*(){let e=0;try{e=yield(e=>r(void 0,void 0,void 0,(function*(){try{let t=(yield e.getRecentPerformanceSamples(6)).reduce(((e,t)=>(0!==t.numTransactions&&(e.numTransactions+=t.numTransactions,e.samplePeriodSecs+=t.samplePeriodSecs),e)),{numTransactions:0,samplePeriodSecs:0});return t.numTransactions/(t.samplePeriodSecs||1)}catch(e){return s.error(e),0}})))(n)}catch(e){}finally{t((t=>{const n=[...t];return 3===(null==n?void 0:n.length)&&n.shift(),n.push(e),n}))}if(e<=1500)throw new Error("Low TPS");return null}))),{refetchInterval:1e4,retryDelay:2e3});const u=(0,o.useMemo)((()=>e.length>0&&e.every((e=>e<=1500))),[e]),c=(0,o.useMemo)((()=>3===e.length&&e.every((e=>0===e))),[e]),d=(0,o.useMemo)((()=>c?(0,i.jsx)("span",{className:"flex text-xs justify-center items-center text-left",children:(0,i.jsx)("div",{className:"ml-1 text-rock",children:(0,i.jsx)("span",{children:(0,i.jsx)("span",{children:"Your RPC is not responding to any requests."})})})}):u?(0,i.jsx)("span",{className:"flex text-xs justify-center items-center text-left",children:(0,i.jsx)("div",{className:"ml-1 text-rock",children:(0,i.jsx)("span",{children:(0,i.jsx)("span",{children:"Solana network is experiencing degraded performance. Transactions may fail to send or confirm."})})})}):null),[u,c]);return{isLowTPS:u,isRPCDown:c,message:d}}},82459:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(32434),a=n(41433),l=n(95070),u=s(n(78724)),c=s(n(43493)),d=s(n(61060)),f=s(n(95065)),h=n(37988),m=n(75207),p=n(26597),x=s(n(16135)),v=n(7041),g=s(n(66437)),b=n(76298),j=n(52688),w=n(22634),y=s(n(99259)),_=s(n(95389)),k=s(n(9760)),N=s(n(93110)),S=n(17888),O=s(n(4507)),P=n(52122);t.default=({onSubmit:e,isDisabled:t,setSelectPairSelector:n,setIsWalletModalOpen:s})=>{const{publicKey:M}=(0,p.useWalletPassThrough)(),{accounts:C,nativeAccount:T}=(0,a.useAccounts)(),{form:I,setForm:A,errors:R,fromTokenInfo:E,toTokenInfo:D,quoteResponseMeta:L,formProps:{fixedAmount:F,fixedInputMint:V,fixedOutputMint:B},loading:U,refresh:W,quoteError:q}=(0,m.useSwapContext)(),[$,z]=(0,k.default)();(0,i.useEffect)((()=>{$&&W()}),[$]);const H=(0,i.useMemo)((()=>null==M?void 0:M.toString()),[M]),G=(0,S.useSuggestionTags)({fromTokenInfo:E,toTokenInfo:D,quoteResponse:null==L?void 0:L.quoteResponse}),K=(0,i.useMemo)((()=>{if(!(null==E?void 0:E.address))return null;const e=(null==E?void 0:E.address)===j.WRAPPED_SOL_MINT.toString()?T:C[E.address];return e?e.balance:""}),[C,null==E?void 0:E.address,T]),J=(0,i.useCallback)((e=>{e.preventDefault(),K&&((null==E?void 0:E.address)===j.WRAPPED_SOL_MINT.toBase58()?A((e=>Object.assign(Object.assign({},e),{fromValue:new N.default(K).gt(l.MINIMUM_SOL_BALANCE)?new N.default(K).minus(l.MINIMUM_SOL_BALANCE).toFixed(9):"0"}))):A((e=>Object.assign(Object.assign({},e),{fromValue:K}))))}),[K,null==E?void 0:E.address,A]),Y=(0,i.useMemo)((()=>V||B),[V,B]),{inputAmountDisabled:Z}=(0,i.useMemo)((()=>{const e={inputAmountDisabled:!0,outputAmountDisabled:!0};return F||(e.inputAmountDisabled=!1),e}),[F]),Q=(0,i.useCallback)((()=>{V||n("fromMint")}),[V,n]),X=(0,i.useCallback)((()=>{B||n("toMint")}),[B,n]),ee=(0,i.useMemo)((()=>","===b.detectedSeparator?".":","),[]),te=(0,i.useCallback)((({floatValue:e})=>!e||e<=l.MAX_INPUT_LIMIT),[]),ne=(0,i.useCallback)((e=>{window.Jupiter.enableWalletPassthrough&&window.Jupiter.onRequestConnectWallet?window.Jupiter.onRequestConnectWallet():s(!0)}),[s]);return(0,r.jsxs)("div",{className:"h-full flex flex-col items-center justify-center pb-4",children:[(0,r.jsxs)("div",{className:"w-full mt-2 rounded-xl flex flex-col px-2",children:[(0,r.jsxs)("div",{className:"flex-col",children:[(0,r.jsx)("div",{className:(0,P.cn)("border-b border-transparent bg-v3-input-background rounded-xl transition-all"),children:(0,r.jsx)("div",{className:(0,P.cn)("px-x border-transparent rounded-xl"),children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:(0,P.cn)("py-5 px-4 flex flex-col dark:text-white border border-transparent","group focus-within:border-v3-primary/50 focus-within:shadow-swap-input-dark rounded-xl"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("button",{type:"button",className:"py-2 px-3 rounded-2xl flex items-center bg-[#1A2633] hover:bg-white/20 text-white",disabled:V,onClick:Q,children:[(0,r.jsx)("div",{className:"h-5 w-5",children:(0,r.jsx)(f.default,{info:E,width:20,height:20})}),(0,r.jsx)("div",{className:"ml-4 mr-2 font-semibold",translate:"no",children:null==E?void 0:E.symbol}),V?null:(0,r.jsx)("span",{className:"text-white/25 fill-current",children:(0,r.jsx)(x.default,{})})]}),(0,r.jsx)("div",{className:"text-right",children:(null==E?void 0:E.decimals)&&(0,r.jsx)(o.NumericFormat,{disabled:F,value:void 0===I.fromValue?"":I.fromValue,decimalScale:E.decimals,thousandSeparator:ee,allowNegative:!1,valueIsNumericString:!0,onValueChange:({value:e,floatValue:t,formattedValue:n})=>{""!==e&&t?Number.isNaN(e)||A((t=>Object.assign(Object.assign({},t),{fromValue:e}))):A((e=>Object.assign(Object.assign({},e),{fromValue:"",toValue:""})))},placeholder:"0.00",className:(0,P.cn)("h-full w-full bg-transparent text-white text-right font-semibold text-lg",{"cursor-not-allowed":Z}),decimalSeparator:b.detectedSeparator,isAllowed:te})})]}),(null==E?void 0:E.address)?(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:(0,P.cn)("flex mt-3 space-x-1 text-xs items-center text-white/50 fill-current cursor-pointer"),onClick:e=>{J(e)},children:[(0,r.jsx)(g.default,{width:10,height:10}),(0,r.jsx)(u.default,{mintAddress:E.address}),(0,r.jsx)("span",{children:E.symbol})]}),I.fromValue?(0,r.jsx)("span",{className:"text-xs text-white/50",children:(0,r.jsx)(w.CoinBalanceUSD,{tokenInfo:E,amount:I.fromValue})}):null]}):null]})})})}),(0,r.jsx)("div",{className:"my-2",children:Y?null:(0,r.jsx)(_.default,{onClick:()=>{A((e=>Object.assign(Object.assign({},e),{fromValue:"",toValue:"",fromMint:e.toMint,toMint:e.fromMint})))},className:(0,P.cn)("transition-all")})}),(0,r.jsx)("div",{className:"border-b border-transparent bg-v3-input-background rounded-xl",children:(0,r.jsx)("div",{className:"px-x border-transparent rounded-xl",children:(0,r.jsx)("div",{children:(0,r.jsxs)("div",{className:(0,P.cn)("py-5 px-4 flex flex-col dark:text-white border border-transparent","group focus-within:border-v3-primary/50 focus-within:shadow-swap-input-dark rounded-xl"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("button",{type:"button",className:"py-2 px-3 rounded-2xl flex items-center bg-[#1A2633] hover:bg-white/20 disabled:hover:bg-[#1A2633] text-white",disabled:B,onClick:X,children:[(0,r.jsx)("div",{className:"h-5 w-5",children:(0,r.jsx)(f.default,{info:D,width:20,height:20})}),(0,r.jsx)("div",{className:"ml-4 mr-2 font-semibold",translate:"no",children:null==D?void 0:D.symbol}),B?null:(0,r.jsx)("span",{className:"text-white/25 fill-current",children:(0,r.jsx)(x.default,{})})]}),(0,r.jsx)("div",{className:"text-right",children:(null==D?void 0:D.decimals)&&(0,r.jsx)(o.NumericFormat,{disabled:!0,value:void 0===I.toValue?"":I.toValue,decimalScale:D.decimals,thousandSeparator:ee,allowNegative:!1,valueIsNumericString:!0,onValueChange:({value:e,floatValue:t,formattedValue:n})=>{""!==e&&t?Number.isNaN(e)||A((t=>Object.assign(Object.assign({},t),{toValue:e}))):A((e=>Object.assign(Object.assign({},e),{fromValue:"",toValue:""})))},className:(0,P.cn)("h-full w-full bg-transparent text-white text-right font-semibold  placeholder:text-sm placeholder:font-normal placeholder:text-v2-lily/20 text-lg"),decimalSeparator:b.detectedSeparator,isAllowed:te,onKeyDown:e=>{!e.metaKey&&!e.ctrlKey&&"Meta"!==e.key&&"Control"!==e.key&&"Alt"!==e.key&&e.key}})})]}),(null==D?void 0:D.address)?(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex mt-3 space-x-1 text-xs items-center text-white/50 fill-current",children:[(0,r.jsx)(g.default,{width:10,height:10}),(0,r.jsx)(u.default,{mintAddress:D.address}),(0,r.jsx)("span",{children:D.symbol})]}),I.toValue?(0,r.jsx)("span",{className:"text-xs text-white/50",children:(0,r.jsx)(w.CoinBalanceUSD,{tokenInfo:D,amount:I.toValue})}):null]}):null]})})})}),L?(0,r.jsxs)("div",{className:"flex items-center mt-2 text-xs space-x-1",children:[(0,r.jsx)("div",{className:"bg-black/20 rounded-xl px-2 py-1 text-white/50 flex items-center space-x-1",children:(0,r.jsx)(v.RoutesSVG,{width:7,height:9})}),(0,r.jsx)("span",{className:"text-white/50",children:"Ultra Swap"})]}):null]}),(0,r.jsx)(O.default,{loading:U,listOfSuggestions:G}),H?(0,r.jsx)(c.default,{errors:R}):null]}),(0,r.jsxs)("div",{className:"w-full px-2",children:[H?(0,r.jsx)(d.default,{size:"lg",className:(0,P.cn)("w-full mt-4 disabled:opacity-50 !text-uiv2-text/75 leading-none !max-h-14 bg-gradient-to-r from-[#00BEF0] to-[#C7F284]"),type:"button",onClick:e,disabled:t||U,children:U?(0,r.jsx)("span",{className:"text-sm",children:"Loading..."}):q?(0,r.jsx)("span",{className:"text-sm",children:"Error fetching route. Try changing your input"}):(0,r.jsx)("span",{children:"Swap"})}):(0,r.jsx)(h.UnifiedWalletButton,{buttonClassName:"!bg-transparent",overrideContent:(0,r.jsx)(d.default,{size:"lg",className:"w-full mt-4",type:"button",onClick:ne,children:"Connect Wallet"})}),L&&E&&D?(0,r.jsx)(y.default,{quoteResponse:L,fromTokenInfo:E,toTokenInfo:D,loading:U}):null]})]})}},84160:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(r,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.searchService=void 0,t.searchService=new class{constructor(){this.ROUTE={SEARCH:"https://fe-api.jup.ag/api/v1/tokens"}}search(e){return n(this,void 0,void 0,(function*(){const t=yield fetch(`${this.ROUTE.SEARCH}/search?query=${e}`,{credentials:"include"});if(!t.ok)throw t;return(yield t.json()).tokens.map((e=>this.parseTokenInfo(e)))}))}getUserBalanceTokenInfo(e){return n(this,void 0,void 0,(function*(){const t=e.join(","),n=yield fetch(`${this.ROUTE.SEARCH}/search?query=${t}`,{credentials:"include"});if(!n.ok)throw n;return(yield n.json()).tokens.map((e=>this.parseTokenInfo(e)))}))}parseTokenInfo(e){return Object.assign(Object.assign({},e),{chainId:101,logoURI:e.icon||"",freeze_authority:e.freezeAuthority,daily_volume:e.volume24h||void 0,mint_authority:e.mintAuthority,permanent_delegate:e.permanentDelegate,tags:e.tags})}}},85828:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=s(n(45434)),o=s(n(26795)),a=n(10178),l=s(n(95065)),u=n(76298);t.default=({tokensInfo:e,onClickAccept:t,onClickReject:n})=>{const{getTokenExplorer:s}=(0,a.usePreferredExplorer)();return(0,r.jsxs)("div",{className:"p-6 rounded-lg bg-black text-white max-h-[80vh] overflow-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{className:"flex space-x-6 w-full justify-center",children:e.map((e=>(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)(l.default,{info:e,width:52,height:52}),(0,r.jsx)("div",{className:"mt-2 font-semibold",children:e.symbol}),(0,r.jsxs)("a",{href:s(e.address,"mainnet-beta"),target:"_blank",rel:"nofollow noreferrer",className:"mt-1 flex justify-center items-center rounded-lg py-1 px-2 bg-black-10 bg-black/30 cursor-pointer text-white/40 fill-current",children:[(0,r.jsx)("span",{className:"mr-2 text-xxs",children:(0,u.shortenAddress)(e.address)}),(0,r.jsx)(o.default,{})]})]},e.address)))}),(0,r.jsx)("div",{className:"mt-2 fill-current text-white-35 cursor-pointer",onClick:n,children:(0,r.jsx)(i.default,{width:16,height:16})})]}),(0,r.jsxs)("div",{className:"mt-6 text-sm text-white ",children:[(0,r.jsx)("div",{children:e.length>1?"These tokens are not on the strict list, make sure that the mint addresses are correct before confirming.":"This token is not on the strict list, make sure the mint address is correct before confirming"}),(0,r.jsxs)("a",{href:"https://docs.jup.ag/notes/getting-your-token-on-jupiter",target:"_blank",rel:"noreferrer",className:"mt-4 flex justify-center items-center text-white/40",children:[(0,r.jsx)("span",{children:"Learn More"}),(0,r.jsx)("div",{className:"ml-1 flex items-center fill-current",children:(0,r.jsx)(o.default,{})})]})]}),(0,r.jsx)("div",{className:"w-full space-y-3 lg:space-y-0 lg:space-x-3 mt-7",children:(0,r.jsx)("button",{type:"button",className:"bg-black text-white rounded-lg w-full py-2.5 px-6 font-semibold text-sm",onClick:t,children:(0,r.jsx)("span",{children:"Confirm Selection"})})})]})}},88040:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnknownTokenSuggestion=void 0;const a=n(74848),l=o(n(17181)),u=n(52122),c=i(n(48395));t.UnknownTokenSuggestion=({tokenInfo:e})=>(0,a.jsx)(l.default,{placement:"top",drawShades:!0,buttonContentClassName:"!cursor-help",content:(0,a.jsxs)("div",{className:"text-xs",children:[e.symbol," is not on the strict list, make sure the mint address is correct before trading"]}),children:(0,a.jsxs)(c.default,{className:(0,u.cn)(c.WARNING_CLASS),children:[e.symbol," is not verified"]})})},89572:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRate=void 0;const a=n(74848),l=o(n(93110)),u=i(n(96540)),c=n(76298),d=o(n(32e3)),f=n(52122);t.calculateRate=({inAmount:e,inputDecimal:t,outAmount:n,outputDecimal:s},r)=>{const i=(0,c.fromLamports)(e,t),o=(0,c.fromLamports)(n,s),a=r?new l.default(o).div(i):new l.default(i).div(o);return Number.isNaN(a.toNumber())?new l.default(0):a};const h=({width:e=16,height:t=16})=>(0,a.jsx)("svg",{width:e,height:t,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.8573 8.18429L13.6323 5.95933L10.8573 3.73438V5.31937H3.32735V6.59937H10.8573V8.18429ZM5.14223 7.81429L2.36719 10.0393L5.14223 12.2642V10.6792H12.6722V9.39922H5.14223V7.81429Z",fill:"#777777"})});t.default=({className:e,textClassName:n,loading:s=!1,fromTokenInfo:r,rateParams:i,toTokenInfo:o,reversible:l=!0})=>{const[m,p]=u.useState(null==l||l),x=u.useMemo((()=>(0,t.calculateRate)(i,m)),[m,i]),v=u.useCallback((e=>{e.stopPropagation(),p((e=>!e))}),[]);return(0,a.jsxs)("div",{className:(0,f.cn)(e,"flex cursor-pointer text-white/50 text-xs align-center"),onClick:v,children:[(0,a.jsx)("span",{className:(0,f.cn)(n,"max-w-full flex whitespace-nowrap"),children:m?(0,a.jsxs)(a.Fragment,{children:["1 ",r.symbol," â‰ˆ",(0,a.jsx)("div",{className:"flex ml-0.5",children:x.gt(1e-5)?`${c.formatNumber.format(x,6)} ${o.symbol}`:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.default,{value:x.toNumber(),maxSuffix:6})," ",o.symbol]})})]}):(0,a.jsxs)(a.Fragment,{children:["1 ",o.symbol," â‰ˆ",(0,a.jsx)("div",{className:"flex ml-0.5",children:x.gt(1e-5)?`${c.formatNumber.format(x,6)} ${r.symbol}`:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.default,{value:x.toNumber(),maxSuffix:6})," ",r.symbol]})})]})}),l?(0,a.jsx)("div",{className:"ml-2",children:(0,a.jsx)(h,{})}):null]})}},89940:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExchangeRateComponent=void 0;const a=n(74848),l=i(n(96540)),u=o(n(32e3)),c=n(52122),d=n(76298),f=n(89572),h=o(n(70395));t.ExchangeRateComponent=({isReversed:e,textClassName:t,loading:n=!1,inputPair:s,inputAmount:r,outputAmount:i,outputPair:o,reversible:m=!0})=>{const p=l.useMemo((()=>n?"-":d.formatNumber.format((0,f.calculateRate)({inAmount:r,outAmount:i,inputDecimal:s.decimals,outputDecimal:o.decimals},e),e?o.decimals:s.decimals)),[n,e,r,i,s,o]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:(0,c.cn)(t,"max-w-full flex items-start whitespace-nowrap"),children:e?(0,a.jsxs)("div",{className:"h-4 flex space-x-1",children:[(0,a.jsxs)("span",{children:["1 ",s.symbol," â‰ˆ"]}),Number(p)<1e-6?(0,a.jsx)(u.default,{value:Number(p),maxSuffix:6}):(0,a.jsx)("span",{children:p}),(0,a.jsx)("span",{children:o.symbol})]}):(0,a.jsxs)("div",{className:"h-4 flex space-x-1",children:[(0,a.jsxs)("span",{children:["1 ",o.symbol," â‰ˆ"]}),Number(p)<1e-6?(0,a.jsx)(u.default,{value:Number(p),maxSuffix:6}):(0,a.jsx)("span",{children:p}),(0,a.jsx)("span",{children:s.symbol})]})}),m?(0,a.jsx)("div",{className:"ml-2 fill-current",children:(0,a.jsx)(h.default,{})}):null]})},t.default=e=>{const{className:n,reversible:s}=e,[r,i]=l.useState(null==s||s),o=l.useCallback((e=>{e.stopPropagation(),i((e=>!e))}),[]);return(0,a.jsx)("div",{className:(0,c.cn)(n,"flex cursor-pointer text-black-35 dark:text-white-35 align-center hover:text-light-active-state dark:hover:text-v2-primary"),onClick:o,children:(0,a.jsx)(t.ExchangeRateComponent,Object.assign({},e,{isReversed:r}))})}},92239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848);t.default=({className:e,baseColor:t="currentColor",spinnerColor:n="currentColor",width:r=16,height:i=16})=>(0,s.jsx)("div",{className:`rounded-full flex items-center justify-center ${e}`,style:{width:r,height:i},children:(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5 text-black dark:text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:t,strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:n,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},95065:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,r)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(74848),l=i(n(96540)),u=o(n(71090)),c=n(78447);function d(e){return`https://wsrv.nl/?${new URLSearchParams({w:"48",h:"48",url:e.endsWith("/")?e.slice(0,-1):e}).toString()}`}const f=({width:e,height:t,imageUrl:n})=>(0,a.jsxs)("svg",{width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","data-url":n,"data-transformed-url":d((null==n?void 0:n.toString())||""),children:[(0,a.jsx)("path",{d:"M12 0C18.6271 0 24 5.37288 24 12C24 18.6271 18.6269 24 12 24C5.37312 24 0 18.6286 0 12C0 5.37144 5.37216 0 12 0Z",fill:"#23C1AA"}),(0,a.jsx)("path",{d:"M10.79 14.55H12.89V14.355C12.89 13.925 13.01 13.55 13.25 13.23C13.49 12.91 13.765 12.605 14.075 12.315C14.315 12.085 14.545 11.85 14.765 11.61C14.985 11.36 15.165 11.09 15.305 10.8C15.455 10.5 15.53 10.16 15.53 9.78C15.53 9.25 15.395 8.75 15.125 8.28C14.855 7.8 14.45 7.41 13.91 7.11C13.38 6.8 12.725 6.645 11.945 6.645C11.305 6.645 10.725 6.765 10.205 7.005C9.69504 7.245 9.27504 7.575 8.94504 7.995C8.62504 8.415 8.42004 8.905 8.33004 9.465L10.415 9.99C10.475 9.61 10.64 9.31 10.91 9.09C11.19 8.86 11.515 8.745 11.885 8.745C12.315 8.745 12.64 8.85 12.86 9.06C13.09 9.26 13.205 9.52 13.205 9.84C13.205 10.15 13.09 10.425 12.86 10.665C12.63 10.895 12.37 11.155 12.08 11.445C11.77 11.765 11.475 12.14 11.195 12.57C10.925 13 10.79 13.545 10.79 14.205V14.55ZM10.73 18H12.98V15.75H10.73V18Z",fill:"white"})]});t.default=({info:e,width:t=32,height:n=32,enableUnknownTokenWarning:s=!0})=>{const[r,i]=l.useState(!1),[o,h]=l.useState(!1);l.useEffect((()=>{h(!1)}),[e]);const m=l.useMemo((()=>{var t;try{if(!(null==e?void 0:e.logoURI))return;return"undefined"!=typeof window&&(null===(t=null==e?void 0:e.logoURI)||void 0===t?void 0:t.startsWith("/"))?new URL(window.location.origin+e.logoURI):(null==e?void 0:e.logoURI)?new URL(e.logoURI):void 0}catch(e){return}}),[null==e?void 0:e.logoURI]),p=l.useMemo((()=>!!s&&(e?(0,c.checkIsUnknownToken)(e):void 0)),[s,e]),x=l.useMemo((()=>!m||!e||o&&r?(0,a.jsx)(f,{width:t,height:n,imageUrl:(null==m?void 0:m.toString())||""}):r?(0,a.jsx)("img",{src:e.logoURI,alt:e.symbol,width:t,height:n,style:{maxWidth:t,maxHeight:n},className:"object-cover rounded-full",onError:()=>{h(!0)}}):(0,a.jsx)("img",{src:d(e.logoURI||""),alt:e.symbol,width:t,height:n,style:{maxWidth:t,maxHeight:n},className:"object-cover rounded-full",onError:()=>{i(!0)}})),[o,n,m,e,r,t]);return(0,a.jsxs)("span",{className:"relative",children:[x,p&&(0,a.jsx)(u.default,{width:Math.max(.6*t,16),height:Math.max(.6*n,16),className:"absolute -p-1 text-warning -bottom-[2px] -right-[5px]"})]})}},95389:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(74848),r=()=>(0,s.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M9.04393 5.74021L12 3.3701L9.04393 1V2.68839H1.0228V4.05189H9.04393V5.74021ZM2.95607 5.34607L0 7.71617L2.95607 10.0863V8.39789H10.9772V7.03439H2.95607V5.34607Z",fill:"white",fillOpacity:"0.5"})});t.default=({className:e,onClick:t,disabled:n})=>(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)("div",{onClick:t,className:`border border-black/50 fill-current text-black bg-v3-input-background dark:text-white-35 dark:hover:text-white/50 dark:border dark:border-white-35 dark:hover:border-white/50 h-8 w-8 rounded-full flex items-center justify-center cursor-pointer ${n?"opacity-50 cursor-not-allowed":""} ${e}`,children:(0,s.jsx)("div",{className:"block -rotate-45",children:(0,s.jsx)(r,{})})})})},97991:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(96540),o=n(70870),a=n(75207),l=s(n(82459)),u=s(n(72320)),c=n(7302),d=n(41433),f=s(n(85828)),h=n(52688),m=s(n(93110)),p=n(52122);t.default=({setIsWalletModalOpen:e,isWalletModalOpen:t})=>{const{accounts:n,nativeAccount:s}=(0,d.useAccounts)(),{tokenMap:x}=(0,c.useTokenContext)(),{form:v,setForm:g,setErrors:b,quoteResponseMeta:j,formProps:{initialOutputMint:w,fixedOutputMint:y},loading:_}=(0,a.useSwapContext)(),{setScreen:k}=(0,o.useScreenState)(),N=(0,i.useMemo)((()=>{var e;return v.fromMint===h.WRAPPED_SOL_MINT.toString()?(null==s?void 0:s.balance)||0:v.fromMint&&(null===(e=n[v.fromMint])||void 0===e?void 0:e.balance)||0}),[n,v.fromMint,null==s?void 0:s.balance]),[S,O]=(0,i.useState)(!1);(0,i.useEffect)((()=>v.fromValue&&v.fromMint&&v.toMint&&v.toValue&&j&&!_?new m.default(v.fromValue).gt(N)?(b({fromValue:{title:"Insufficient balance",message:""}}),void O(!0)):(b({}),void O(!1)):(b({}),void O(!0))),[v,N,j,_,b]);const[P,M]=(0,i.useState)(null),[C,T]=(0,i.useState)(null),I=(0,i.useCallback)(((e,t=!1)=>{var n;0===(null===(n=e.tags)||void 0===n?void 0:n.length)&&!1===t?T(e):(g("fromMint"===P?t=>Object.assign(Object.assign(Object.assign({},t),{fromMint:e.address,fromValue:""}),t.toMint===e.address?{toMint:t.fromMint}:void 0):t=>Object.assign(Object.assign(Object.assign({},t),{toMint:e.address,toValue:""}),t.fromMint===e.address?{fromMint:t.toMint}:void 0)),M(null))}),[P,g]),A=(0,i.useMemo)((()=>{let e=[...x.values()];return y&&(e=e.filter((e=>e.address!==w))),e}),[x,y,w]),R=(0,i.useCallback)((()=>{k("Confirmation")}),[k]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onSubmit:R,className:(0,p.cn)({hidden:Boolean(P)}),children:(0,r.jsx)(l.default,{onSubmit:R,isDisabled:S,setSelectPairSelector:M,setIsWalletModalOpen:e})}),null!==P?(0,r.jsx)("div",{className:"absolute top-0 left-0 h-full w-full bg-black rounded-lg overflow-hidden",children:(0,r.jsx)(u.default,{onSubmit:I,tokenInfos:A,onClose:()=>M(null)})}):null,C?(0,r.jsx)("div",{className:"absolute top-0 h-full w-full flex justify-center items-center bg-black/50 rounded-lg overflow-hidden",children:(0,r.jsx)(f.default,{tokensInfo:[C],onClickAccept:()=>{I(C,!0),T(null)},onClickReject:()=>T(null)})}):null]})}},99259:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(74848),i=n(57654),o=s(n(93110)),a=s(n(75951)),l=n(96540),u=n(26597),c=n(41433),d=n(76298),f=s(n(89572)),h=s(n(79750)),m=s(n(6412)),p=s(n(5263)),x=n(52122);t.default=({quoteResponse:e,fromTokenInfo:t,toTokenInfo:n,loading:s,showFullDetails:v=!1,containerClassName:g})=>{var b,j;const w={inAmount:(null==e?void 0:e.quoteResponse.inAmount)||a.default.BigInt(0),inputDecimal:t.decimals,outAmount:(null==e?void 0:e.quoteResponse.outAmount)||a.default.BigInt(0),outputDecimal:n.decimals},{accounts:y}=(0,c.useAccounts)(),{wallet:_}=(0,u.useWalletPassThrough)(),k=(0,l.useMemo)((()=>{var e;return null===(e=null==_?void 0:_.adapter.publicKey)||void 0===e?void 0:e.toString()}),[null==_?void 0:_.adapter.publicKey]),N=d.formatNumber.format(new o.default((null==e?void 0:e.quoteResponse.priceImpactPct)||0).mul(100).toDP(4)),S=Number(N)<.1?`< ${d.formatNumber.format("0.1")}%`:`~ ${N}%`,O=(0,l.useMemo)((()=>{if(null==e?void 0:e.quoteResponse.otherAmountThreshold){const t=new o.default(e.quoteResponse.otherAmountThreshold.toString()).div(Math.pow(10,n.decimals));return`${d.formatNumber.format(t)} ${n.symbol}`}return"-"}),[e.quoteResponse.otherAmountThreshold,n.decimals,n.symbol]),[P,M]=(0,l.useState)(),C=(0,l.useMemo)((()=>new Map(Object.entries(y).map((e=>[e[0],e[1].pubkey.toString()])))),[y]);(0,l.useEffect)((()=>{if(e){const t=(0,i.calculateFeeForSwap)(e.quoteResponse,C,new Map,!0,!0);M(t)}else M(void 0)}),[e,k,C]);const T=(null!==(b=null==P?void 0:P.ataDeposits.length)&&void 0!==b?b:0)>0,I=(null!==(j=null==P?void 0:P.openOrdersDeposits.length)&&void 0!==j?j:0)>0;return(0,r.jsxs)("div",{className:(0,x.cn)("mt-4 space-y-4 border border-white/5 rounded-xl p-3",g),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("div",{className:"text-white/50",children:(0,r.jsx)("span",{children:"Rate"})}),a.default.greaterThan(w.inAmount,a.default.BigInt(0))&&a.default.greaterThan(w.outAmount,a.default.BigInt(0))?(0,r.jsx)(f.default,{loading:s,rateParams:w,fromTokenInfo:t,toTokenInfo:n,reversible:!0}):(0,r.jsx)("span",{className:"text-white/50",children:"-"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-white/50",children:[(0,r.jsx)("div",{children:(0,r.jsx)("span",{children:"Price Impact"})}),(0,r.jsx)("div",{children:S})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsx)("div",{className:"text-white/50",children:(0,r.jsx)("span",{children:"Minimum Received"})}),(0,r.jsx)("div",{className:"text-white/50",children:O})]}),v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.default,{routePlan:null==e?void 0:e.quoteResponse.routePlan}),(0,r.jsx)(p.default,{feeInformation:P}),(0,r.jsx)(h.default,{hasSerumDeposit:I,hasAtaDeposit:T,feeInformation:P})]}):null]})}}}]);
//# sourceMappingURL=main-4.0.1-JupiterRenderer-43dd7041.js.map