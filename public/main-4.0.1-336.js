"use strict";(self.webpackChunk_jup_ag_terminal=self.webpackChunk_jup_ag_terminal||[]).push([[336],{33336:(t,e,n)=>{n.d(e,{Wp:()=>hn});var r=n(39404),o=n.n(r),i=n(62643),a=n(48287),s=n(61124),c=n.n(s),_=(n(12729),n(27475)),u=n(78226),R=(n(3075),n(30228),n(96763)),d=n(48287).Buffer;const l=t=>"version"in t;var O=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?a.Buffer.from([]):a.Buffer.from(e.map((t=>parseInt(t,16))))}});var A=Object.freeze({__proto__:null,decode:function(t){return new TextDecoder("utf-8").decode(t)},encode:function(t){return(new TextEncoder).encode(t)}});function h(t){return c().encode(t)}var N=Object.freeze({__proto__:null,encode:h,decode:function(t){return c().decode(t)}});var E=Object.freeze({__proto__:null,encode:function(t){return t.toString("base64")},decode:function(t){return a.Buffer.from(t,"base64")}}),T=Object.freeze({__proto__:null,hex:O,utf8:A,bs58:N,base64:E});_.struct([_.publicKey("authority"),_.vecU8("data")]);class f extends TypeError{constructor(t,e){let n;const{message:r,...o}=t,{path:i}=t;super(0===i.length?r:"At path: "+i.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function p(t){return"object"==typeof t&&null!=t}function C(t){return"string"==typeof t?JSON.stringify(t):""+t}function y(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:o,branch:i}=e,{type:a}=n,{refinement:s,message:c="Expected a value of type `"+a+"`"+(s?" with refinement `"+s+"`":"")+", but received: `"+C(r)+"`"}=t;return{value:r,type:a,refinement:s,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*I(t,e,n,r){var o;p(o=t)&&"function"==typeof o[Symbol.iterator]||(t=[t]);for(const o of t){const t=y(o,e,n,r);t&&(yield t)}}function*m(t,e,n){void 0===n&&(n={});const{path:r=[],branch:o=[t],coerce:i=!1,mask:a=!1}=n,s={path:r,branch:o};if(i&&(t=e.coercer(t,s),a&&"type"!==e.type&&p(e.schema)&&p(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,s))c=!1,yield[n,void 0];for(let[n,_,u]of e.entries(t,s)){const e=m(_,u,{path:void 0===n?r:[...r,n],branch:void 0===n?o:[...o,_],coerce:i,mask:a});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):i&&(_=r[1],void 0===n?t=_:t instanceof Map?t.set(n,_):t instanceof Set?t.add(_):p(t)&&(t[n]=_))}if(c)for(const n of e.refiner(t,s))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class w{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:o,coercer:i=t=>t,entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(t,e)=>I(r(t,e),e,this,t):()=>[],this.refiner=o?(t,e)=>I(o(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=v(t,e);if(n[0])throw n[0]}(t,this)}create(t){return S(t,this)}is(t){return g(t,this)}mask(t){return function(t,e){const n=v(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),v(t,this,e)}}function S(t,e){const n=v(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function g(t,e){return!v(t,e)[0]}function v(t,e,n){void 0===n&&(n={});const r=m(t,e,n),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);return o[0]?[new f(o[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]:[void 0,o[1]]}function b(t,e){return new w({type:t,schema:null,validator:e})}function M(t){return new w({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+C(t)})}function D(t){const e=C(t),n=typeof t;return new w({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+C(n)})}function H(t){return new w({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function P(){return b("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+C(t)))}function x(t){return new w({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function U(){return b("string",(t=>"string"==typeof t||"Expected a string, but received: "+C(t)))}function L(t){const e=Object.keys(t);return new w({type:"type",schema:t,*entries(n){if(p(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>p(t)||"Expected an object, but received: "+C(t)})}function B(t){const e=t.map((t=>t.type)).join(" | ");return new w({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||k()).coercer(e,n),validator(n,r){const o=[];for(const e of t){const[...t]=m(n,e,r),[i]=t;if(!i[0])return[];for(const[e]of t)e&&o.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+C(n),...o]}})}function k(){return b("unknown",(()=>!0))}async function G(t,e,n){if(e.length<=99)return await V(t,e,n);{const r=function(t){return Array.apply(0,new Array(Math.ceil(t.length/99))).map(((e,n)=>t.slice(99*n,99*(n+1))))}(e);return(await Promise.all(r.map((e=>V(t,e,n))))).flat()}}async function V(t,e,n){const r=null!=n?n:t.commitment,{value:o,context:i}=await t.getMultipleAccountsInfoAndContext(e,r);return o.map(((t,n)=>null===t?null:{publicKey:e[n],account:t,context:i}))}async function K(t,e,n,r,o){var a;n&&n.length>0&&e.sign(...n);const s=e._compile(),c=s.serialize(),_=e._serialize(c).toString("base64"),u={encoding:"base64",commitment:null!=r?r:t.commitment};if(o){const t=(Array.isArray(o)?o:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}n&&n.length>0&&(u.sigVerify=!0);const d=[_,u],l=S(await t._rpcRequest("simulateTransaction",d),z);if("error"in l){let t;if("data"in l.error&&(t=null===(a=l.error.data)||void 0===a?void 0:a.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);R.error(l.error.message,n)}throw new i.SendTransactionError("failed to simulate transaction: "+l.error.message,t)}return l.result}const j=q(k());function q(t){return B([L({jsonrpc:D("2.0"),id:U(),result:t}),L({jsonrpc:D("2.0"),id:U(),error:L({code:k(),message:U(),data:x(b("any",(()=>!0)))})})])}const z=(F=L({err:H(B([L({}),U()])),logs:H(M(U())),accounts:x(H(M(H(L({executable:b("boolean",(t=>"boolean"==typeof t)),owner:U(),lamports:P(),data:M(U()),rentEpoch:x(P())}))))),unitsConsumed:x(P())}),function(t,e){return new w({...t,coercer:(n,r)=>g(n,e)?t.coercer((t=>"error"in t?t:{...t,result:S(t.result,X)})(n),r):t.coercer(n,r)})}(q(X=L({context:L({slot:P()}),value:F})),j));var X,F,Y=Object.freeze({__proto__:null,invoke:async function(t,e,n,r){var o;t=(o=t)instanceof i.PublicKey?o:new i.PublicKey(o),r||(r=null===J?Q.local():J);const a=new i.Transaction;if(a.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:n})),void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(a,[])},getMultipleAccounts:async function(t,e,n){return(await G(t,e,n)).map((t=>t?{publicKey:t.publicKey,account:t.account}:null))},getMultipleAccountsAndContext:G,simulateTransaction:K});class Q{constructor(t,e,n=Q.defaultOptions()){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=null==e?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=Q.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r,o,a,s;if(void 0===n&&(n=this.opts),l(t))e&&t.sign(e);else if(t.feePayer=null!==(r=t.feePayer)&&void 0!==r?r:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const n of e)t.partialSign(n);const c=(t=await this.wallet.signTransaction(t)).serialize();try{return await Z(this.connection,c,n)}catch(e){if(e instanceof $){const n=h(l(t)?(null===(o=t.signatures)||void 0===o?void 0:o[0])||new Uint8Array:null!==(a=t.signature)&&void 0!==a?a:new Uint8Array),r=l(t)?0:void 0,c=await this.connection.getTransaction(n,{commitment:"confirmed",maxSupportedTransactionVersion:r});if(c){const t=null===(s=c.meta)||void 0===s?void 0:s.logMessages;throw t?new i.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){var n,r,o;void 0===e&&(e=this.opts);const a=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let s=t.map((t=>{var e,n;if(l(t.tx)){let e=t.tx;return t.signers&&e.sign(t.signers),e}{let r=t.tx,o=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=a,o.forEach((t=>{r.partialSign(t)})),r}}));const c=await this.wallet.signAllTransactions(s),_=[];for(let t=0;t<s.length;t+=1){const a=c[t],s=a.serialize();try{_.push(await Z(this.connection,s,e))}catch(t){if(t instanceof $){const e=h(l(a)?(null===(n=a.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=a.signature)&&void 0!==r?r:new Uint8Array),s=l(a)?0:void 0,c=await this.connection.getTransaction(e,{commitment:"confirmed",maxSupportedTransactionVersion:s});if(c){const e=null===(o=c.meta)||void 0===o?void 0:o.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}return _}async simulate(t,e,n,r){let o,i=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(l(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),o=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=i,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),o=await K(this.connection,t,e,n,r)),o.value.err)throw new W(o.value);return o.value}}class W extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function Z(t,e,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let o;const i=Date.now();for(;Date.now()-i<6e4;)try{const i=await t.sendRawTransaction(e,r);if(null==n?void 0:n.blockhash)if(0===r.maxRetries){const e=AbortSignal.timeout(15e3);o=(await t.confirmTransaction({abortSignal:e,signature:i,...n.blockhash},n&&n.commitment)).value}else o=(await t.confirmTransaction({signature:i,...n.blockhash},n&&n.commitment)).value;else o=(await t.confirmTransaction(i,n&&n.commitment)).value;if(o.err)throw new $(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}catch(t){if("TimeoutError"===t.name)continue;throw t}throw Error("Transaction failed to confirm in 60s")}class $ extends Error{constructor(t){super(t)}}let J=null;var tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nt={};Object.defineProperty(nt,"__esModule",{value:!0});var rt=nt.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=nt.ANCHOR_ERROR__REQUIRE_VIOLATED=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=nt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=nt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=nt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=nt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=nt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=nt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=nt.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=nt.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=nt.ANCHOR_ERROR__CONSTRAINT_SPACE=nt.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=nt.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=nt.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=nt.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=nt.ANCHOR_ERROR__CONSTRAINT_ZERO=nt.ANCHOR_ERROR__CONSTRAINT_ADDRESS=nt.ANCHOR_ERROR__CONSTRAINT_CLOSE=nt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=nt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=nt.ANCHOR_ERROR__CONSTRAINT_STATE=nt.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=nt.ANCHOR_ERROR__CONSTRAINT_SEEDS=nt.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=nt.ANCHOR_ERROR__CONSTRAINT_OWNER=nt.ANCHOR_ERROR__CONSTRAINT_RAW=nt.ANCHOR_ERROR__CONSTRAINT_SIGNER=nt.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=nt.ANCHOR_ERROR__CONSTRAINT_MUT=nt.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=nt.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=nt.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=nt.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=nt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=nt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=nt.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=nt.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ot=nt.ANCHOR_ERROR__DEPRECATED=nt.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=nt.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=nt.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=nt.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=nt.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=nt.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=nt.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=nt.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=nt.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=nt.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=nt.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=nt.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=nt.ANCHOR_ERROR__INVALID_PROGRAM_ID=nt.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=nt.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=nt.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=nt.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=nt.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=nt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=nt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=nt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=nt.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=nt.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=nt.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=nt.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=nt.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,it=nt.ANCHOR_ERROR__INSTRUCTION_MISSING=100,at=nt.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,st=nt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,ct=nt.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,_t=nt.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,ut=nt.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Rt=nt.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,dt=nt.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,lt=nt.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Ot=nt.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,At=nt.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,ht=nt.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Nt=nt.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Et=nt.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,Tt=nt.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,ft=nt.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,pt=nt.ANCHOR_ERROR__CONSTRAINT_STATE=2008,Ct=nt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,yt=nt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,It=nt.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,mt=nt.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,wt=nt.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,St=nt.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,gt=nt.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,vt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,bt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Mt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,Dt=nt.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Ht=nt.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Pt=nt.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,xt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,Ut=nt.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Lt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Bt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,kt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Gt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,Vt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,Kt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,jt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,qt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,zt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Xt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Ft=nt.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Yt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Qt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Wt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Zt=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,$t=nt.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Jt=nt.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;rt=nt.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var te=nt.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,ee=nt.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,ne=nt.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,re=nt.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,oe=nt.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,ie=nt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ae=nt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,se=nt.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,ce=nt.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,_e=nt.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,ue=nt.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,Re=nt.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,de=nt.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,le=nt.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,Oe=nt.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,Ae=nt.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,he=nt.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,Ne=nt.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,Ee=nt.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,Te=nt.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,fe=nt.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,pe=nt.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,Ce=nt.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,ye=nt.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,Ie=nt.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,me=nt.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ot=nt.ANCHOR_ERROR__DEPRECATED=5e3;const we=new Set(["debug-logs"]),Se=new Map;var ge=Object.freeze({__proto__:null,set:function(t){if(!we.has(t))throw new Error("Invalid feature");Se.set(t,!0)},isSet:function(t){return void 0!==Se.get(t)}});Error,Error,Error;const ve={InstructionMissing:it,InstructionFallbackNotFound:at,InstructionDidNotDeserialize:st,InstructionDidNotSerialize:ct,IdlInstructionStub:_t,IdlInstructionInvalidProgram:ut,IdlAccountNotEmpty:Rt,EventInstructionStub:dt,ConstraintMut:lt,ConstraintHasOne:Ot,ConstraintSigner:At,ConstraintRaw:ht,ConstraintOwner:Nt,ConstraintRentExempt:Et,ConstraintSeeds:Tt,ConstraintExecutable:ft,ConstraintState:pt,ConstraintAssociated:Ct,ConstraintAssociatedInit:yt,ConstraintClose:It,ConstraintAddress:mt,ConstraintZero:wt,ConstraintTokenMint:St,ConstraintTokenOwner:gt,ConstraintMintMintAuthority:vt,ConstraintMintFreezeAuthority:bt,ConstraintMintDecimals:Mt,ConstraintSpace:Dt,ConstraintAccountIsNone:Ht,ConstraintTokenTokenProgram:Pt,ConstraintMintTokenProgram:xt,ConstraintAssociatedTokenTokenProgram:Ut,ConstraintMintGroupPointerExtension:Lt,ConstraintMintGroupPointerExtensionAuthority:Bt,ConstraintMintGroupPointerExtensionGroupAddress:kt,ConstraintMintGroupMemberPointerExtension:Gt,ConstraintMintGroupMemberPointerExtensionAuthority:Vt,ConstraintMintGroupMemberPointerExtensionMemberAddress:Kt,ConstraintMintMetadataPointerExtension:jt,ConstraintMintMetadataPointerExtensionAuthority:qt,ConstraintMintMetadataPointerExtensionMetadataAddress:zt,ConstraintMintCloseAuthorityExtension:Xt,ConstraintMintCloseAuthorityExtensionAuthority:Ft,ConstraintMintPermanentDelegateExtension:Yt,ConstraintMintPermanentDelegateExtensionDelegate:Qt,ConstraintMintTransferHookExtension:Wt,ConstraintMintTransferHookExtensionAuthority:Zt,ConstraintMintTransferHookExtensionProgramId:$t,RequireViolated:Jt,RequireEqViolated:rt,RequireKeysEqViolated:te,RequireNeqViolated:ee,RequireKeysNeqViolated:ne,RequireGtViolated:re,RequireGteViolated:oe,AccountDiscriminatorAlreadySet:ie,AccountDiscriminatorNotFound:ae,AccountDiscriminatorMismatch:se,AccountDidNotDeserialize:ce,AccountDidNotSerialize:_e,AccountNotEnoughKeys:ue,AccountNotMutable:Re,AccountOwnedByWrongProgram:de,InvalidProgramId:le,InvalidProgramExecutable:Oe,AccountNotSigner:Ae,AccountNotSystemOwned:he,AccountNotInitialized:Ne,AccountNotProgramData:Ee,AccountNotAssociatedTokenAccount:Te,AccountSysvarMismatch:fe,AccountReallocExceedsLimit:pe,AccountDuplicateReallocs:Ce,DeclaredProgramIdMismatch:ye,TryingToInitPayerAsProgramAccount:Ie,InvalidNumericConversion:me,Deprecated:ot};new Map([[ve.InstructionMissing,"Instruction discriminator not provided"],[ve.InstructionFallbackNotFound,"Fallback functions are not supported"],[ve.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[ve.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[ve.IdlInstructionStub,"The program was compiled without idl instructions"],[ve.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[ve.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[ve.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[ve.ConstraintMut,"A mut constraint was violated"],[ve.ConstraintHasOne,"A has one constraint was violated"],[ve.ConstraintSigner,"A signer constraint was violated"],[ve.ConstraintRaw,"A raw constraint was violated"],[ve.ConstraintOwner,"An owner constraint was violated"],[ve.ConstraintRentExempt,"A rent exemption constraint was violated"],[ve.ConstraintSeeds,"A seeds constraint was violated"],[ve.ConstraintExecutable,"An executable constraint was violated"],[ve.ConstraintState,"Deprecated Error, feel free to replace with something else"],[ve.ConstraintAssociated,"An associated constraint was violated"],[ve.ConstraintAssociatedInit,"An associated init constraint was violated"],[ve.ConstraintClose,"A close constraint was violated"],[ve.ConstraintAddress,"An address constraint was violated"],[ve.ConstraintZero,"Expected zero account discriminant"],[ve.ConstraintTokenMint,"A token mint constraint was violated"],[ve.ConstraintTokenOwner,"A token owner constraint was violated"],[ve.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[ve.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[ve.ConstraintMintDecimals,"A mint decimals constraint was violated"],[ve.ConstraintSpace,"A space constraint was violated"],[ve.ConstraintAccountIsNone,"A required account for the constraint is None"],[ve.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[ve.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[ve.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[ve.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[ve.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[ve.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[ve.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[ve.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[ve.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[ve.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[ve.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[ve.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[ve.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[ve.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[ve.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[ve.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[ve.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[ve.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[ve.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[ve.RequireViolated,"A require expression was violated"],[ve.RequireEqViolated,"A require_eq expression was violated"],[ve.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[ve.RequireNeqViolated,"A require_neq expression was violated"],[ve.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[ve.RequireGtViolated,"A require_gt expression was violated"],[ve.RequireGteViolated,"A require_gte expression was violated"],[ve.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[ve.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[ve.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[ve.AccountDidNotDeserialize,"Failed to deserialize the account"],[ve.AccountDidNotSerialize,"Failed to serialize the account"],[ve.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[ve.AccountNotMutable,"The given account is not mutable"],[ve.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[ve.InvalidProgramId,"Program ID was not as expected"],[ve.InvalidProgramExecutable,"Program account is not executable"],[ve.AccountNotSigner,"The given account did not sign"],[ve.AccountNotSystemOwned,"The given account is not owned by the system program"],[ve.AccountNotInitialized,"The program expected this account to be already initialized"],[ve.AccountNotProgramData,"The given account is not a program data account"],[ve.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[ve.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[ve.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[ve.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[ve.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[ve.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[ve.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[ve.Deprecated,"The API being used is deprecated and should no longer be used"]]);class be{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Me=be;class De extends be{isCount(){throw new Error("ExternalLayout is abstract")}}class He extends De{constructor(t,e,n){if(!(t instanceof be))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Pe||this.layout instanceof xe}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class Pe extends be{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class xe extends be{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Ue=Math.pow(2,32);function Le(t){const e=Math.floor(t/Ue);return{hi32:e,lo32:t-e*Ue}}function Be(t,e){return t*Ue+e}class ke extends be{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return Be(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Le(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class Ge extends be{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof be),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const o=r.getSpan(t,e);return e+=o,n+o}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let o=0,i=0;for(const r of this.fields){let a=r.span;if(i=0<a?a:0,void 0!==r.property){const o=t[r.property];void 0!==o&&(i=r.encode(o,e,n),0>a&&(a=r.getSpan(e,n)))}o=n,n+=a}return o+i-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class Ve{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Ke extends Ve{constructor(t,e){if(!(t instanceof De&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class je extends be{constructor(t,e,n){const r=t instanceof Pe||t instanceof xe;if(r)t=new Ke(new He(t));else if(t instanceof De&&t.isCount())t=new Ke(t);else if(!(t instanceof Ve))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof be))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&r&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return i(t)},this.configGetSourceVariant=function(t){i=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,o=r.decode(t,e);let i=this.registry[o];if(void 0===i){let a=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=o,n[i.property]=this.defaultLayout.decode(t,e+a)}else n=i.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=r.layout.span),r.encode(t[r.property],e,n),i+o.encode(t[o.property],e,n+i)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new qe(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return d.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class qe extends be{constructor(t,e,n,r){if(!(t instanceof je))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof be))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),o+=this.layout.getSpan(e,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class ze extends be{constructor(t,e){if(!(t instanceof De&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof De||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof De&&(r=t.length),!d.isBuffer(t)||r!==t.length)throw new TypeError((o="Blob.encode",(this.property?o+"["+this.property+"]":o)+" requires (length "+r+") Buffer as src"));var o;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof De&&this.length.encode(r,e,n),r}}var Xe=(t,e,n)=>new He(t,e,n),Fe=t=>new Pe(4,t),Ye=t=>new ke(t),Qe=(t,e,n)=>new Ge(t,e,n),We=(t,e,n)=>new je(t,e,n),Ze=(t,e)=>new ze(t,e);class $e extends Me{constructor(t){super(-1,t),this.property=t,this.layout=Qe([Fe("length"),Fe("lengthPadding"),Ze(Xe(Fe(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:d.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return Fe().span+Fe().span+new(o())(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function Je(t){return new $e(t)}function tn(t){return Ze(32,t)}const en=We(Fe("instruction"));en.addVariant(0,Qe([Ye("lamports"),Ye("space"),tn("owner")]),"createAccount"),en.addVariant(1,Qe([tn("owner")]),"assign"),en.addVariant(2,Qe([Ye("lamports")]),"transfer"),en.addVariant(3,Qe([tn("base"),Je("seed"),Ye("lamports"),Ye("space"),tn("owner")]),"createAccountWithSeed"),en.addVariant(4,Qe([tn("authorized")]),"advanceNonceAccount"),en.addVariant(5,Qe([Ye("lamports")]),"withdrawNonceAccount"),en.addVariant(6,Qe([tn("authorized")]),"initializeNonceAccount"),en.addVariant(7,Qe([tn("authorized")]),"authorizeNonceAccount"),en.addVariant(8,Qe([Ye("space")]),"allocate"),en.addVariant(9,Qe([tn("base"),Je("seed"),Ye("space"),tn("owner")]),"allocateWithSeed"),en.addVariant(10,Qe([tn("base"),Je("seed"),tn("owner")]),"assignWithSeed"),en.addVariant(11,Qe([Ye("lamports"),Je("seed"),tn("owner")]),"transferWithSeed"),Math.max(...Object.values(en.registry).map((t=>t.span)));class nn extends Me{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function rn(t){return new nn(Ze(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}Qe([Fe("version"),Fe("state"),rn("authorizedPubkey"),rn("nonce"),Qe([new class extends be{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return Be(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Le(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}("lamportsPerSignature")],"feeCalculator")]);var on=Object.freeze({__proto__:null,hash:function(t){return(new TextDecoder).decode((0,u.sc)(t))}}),an=Object.freeze({__proto__:null,createWithSeedSync:function(t,e,n){const r=a.Buffer.concat([t.toBuffer(),a.Buffer.from(e),n.toBuffer()]);return new i.PublicKey((0,u.sc)(r))}});const sn=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),cn=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var _n=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:sn,ASSOCIATED_PROGRAM_ID:cn,associatedAddress:function({mint:t,owner:e}){return i.PublicKey.findProgramAddressSync([e.toBuffer(),sn.toBuffer(),t.toBuffer()],cn)[0]}}),un={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:tt,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function _(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function R(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function d(t){this.map={},t instanceof d?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function l(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function O(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function A(t){var e=new FileReader,n=O(e);return e.readAsArrayBuffer(t),n}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function N(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&o&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?l(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var t=l(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=O(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(t,e){t=_(t),e=u(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},d.prototype.delete=function(t){delete this.map[_(t)]},d.prototype.get=function(t){return t=_(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(_(t))},d.prototype.set=function(t,e){this.map[_(t)]=u(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),R(t)},d.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),R(t)},d.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),R(t)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function T(t,e){var n,r,o=(e=e||{}).body;if(t instanceof T){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),E.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function f(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function p(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})},N.call(T.prototype),N.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var C=[301,302,303,307,308];p.redirect=function(t,e){if(-1===C.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function y(t,n){return new Promise((function(r,i){var a=new T(t,n);if(a.signal&&a.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,n={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new d,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new p(o,n))},s.onerror=function(){i(new TypeError("Network request failed"))},s.ontimeout=function(){i(new TypeError("Network request failed"))},s.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&o&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",c)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}y.polyfill=!0,t.fetch||(t.fetch=y,t.Headers=d,t.Request=T,t.Response=p),e.Headers=d,e.Request=T,e.Response=p,e.fetch=y,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}(un,un.exports);var Rn=et(un.exports);async function dn(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=On(n.data),o=await t.getAccountInfo(r.programdataAddress);if(null===o)throw new Error("program data account not found");const{programData:i}=On(o.data);return i}const ln=_.rustEnum([_.struct([],"uninitialized"),_.struct([_.option(_.publicKey(),"authorityAddress")],"buffer"),_.struct([_.publicKey("programdataAddress")],"program"),_.struct([_.u64("slot"),_.option(_.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,_.u32());function On(t){return ln.decode(t)}var An=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[o,i]=await Promise.all([dn(t,e),Rn(r)]),a=(await i.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===a.length)return null;const s=a[0];return o.slot.toNumber()!==s.verified_slot?null:s},fetchData:dn,decodeUpgradeableLoaderState:On}),hn=Object.freeze({__proto__:null,sha256:on,rpc:Y,publicKey:an,bytes:T,token:_n,features:ge,registry:An});function Nn(t){return new fn(Ze(8),(t=>Cn.fromBuffer(t)),(t=>t.toBuffer()),t)}function En(t){return new fn(Ze(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function Tn(t,e){return new pn(t,e)}new Map;class fn extends Me{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class pn extends Me{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=Fe()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class Cn extends(o()){toBuffer(){const t=super.toArray().reverse(),e=d.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=d.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Cn([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}Qe([En("mint"),En("owner"),Nn("amount"),Tn(En(),"delegate"),(()=>{const t=We(new Pe(1,"discriminator"),null,"state");return t.addVariant(0,Qe([]),"uninitialized"),t.addVariant(1,Qe([]),"initialized"),t.addVariant(2,Qe([]),"frozen"),t})(),Tn(Nn(),"isNative"),Nn("delegatedAmount"),Tn(En(),"closeAuthority")]),new i.PublicKey("11111111111111111111111111111111")}}]);
//# sourceMappingURL=main-4.0.1-336.js.map