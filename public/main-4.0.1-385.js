/*! For license information please see main-4.0.1-385.js.LICENSE.txt */
(self.webpackChunk_jup_ag_terminal=self.webpackChunk_jup_ag_terminal||[]).push([[385],{601:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;const r=n(48287);function o(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function i(e){return o(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=o,t.uint8ArrayToBuffer=i;class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=s,t.nameWithProperty=a,t.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof s))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class c extends s{isCount(){throw new Error("ExternalLayout is abstract")}}t.ExternalLayout=c;class u extends c{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){o(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}t.GreedyCount=u;class d extends c{constructor(e,t=0,n){if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}t.OffsetLayout=d;class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readUIntLE(t,this.span)}encode(e,t,n=0){return i(t).writeUIntLE(e,n,this.span),this.span}}t.UInt=l;class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readUIntBE(t,this.span)}encode(e,t,n=0){return i(t).writeUIntBE(e,n,this.span),this.span}}t.UIntBE=h;class f extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readIntLE(t,this.span)}encode(e,t,n=0){return i(t).writeIntLE(e,n,this.span),this.span}}t.Int=f;class y extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return i(e).readIntBE(t,this.span)}encode(e,t,n=0){return i(t).writeIntBE(e,n,this.span),this.span}}t.IntBE=y;const p=Math.pow(2,32);function w(e){const t=Math.floor(e/p);return{hi32:t,lo32:e-t*p}}function g(e,t){return e*p+t}class b extends s{constructor(e){super(8,e)}decode(e,t=0){const n=i(e),r=n.readUInt32LE(t);return g(n.readUInt32LE(t+4),r)}encode(e,t,n=0){const r=w(e),o=i(t);return o.writeUInt32LE(r.lo32,n),o.writeUInt32LE(r.hi32,n+4),8}}t.NearUInt64=b;class m extends s{constructor(e){super(8,e)}decode(e,t=0){const n=i(e);return g(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=w(e),o=i(t);return o.writeUInt32BE(r.hi32,n),o.writeUInt32BE(r.lo32,n+4),8}}t.NearUInt64BE=m;class v extends s{constructor(e){super(8,e)}decode(e,t=0){const n=i(e),r=n.readUInt32LE(t);return g(n.readInt32LE(t+4),r)}encode(e,t,n=0){const r=w(e),o=i(t);return o.writeUInt32LE(r.lo32,n),o.writeInt32LE(r.hi32,n+4),8}}t.NearInt64=v;class E extends s{constructor(e){super(8,e)}decode(e,t=0){const n=i(e);return g(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t,n=0){const r=w(e),o=i(t);return o.writeInt32BE(r.hi32,n),o.writeUInt32BE(r.lo32,n+4),8}}t.NearInt64BE=E;class _ extends s{constructor(e){super(4,e)}decode(e,t=0){return i(e).readFloatLE(t)}encode(e,t,n=0){return i(t).writeFloatLE(e,n),4}}t.Float=_;class S extends s{constructor(e){super(4,e)}decode(e,t=0){return i(e).readFloatBE(t)}encode(e,t,n=0){return i(t).writeFloatBE(e,n),4}}t.FloatBE=S;class L extends s{constructor(e){super(8,e)}decode(e,t=0){return i(e).readDoubleLE(t)}encode(e,t,n=0){return i(t).writeDoubleLE(e,n),8}}t.Double=L;class A extends s{constructor(e){super(8,e)}decode(e,t=0){return i(e).readDoubleBE(t)}encode(e,t,n=0){return i(t).writeDoubleBE(e,n),8}}t.DoubleBE=A;class I extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof c)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof c&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let o=0;for(;o<r;)n+=this.elementLayout.getSpan(e,t+n),++o}return n}decode(e,t=0){const n=[];let r=0,o=this.count;for(o instanceof c&&(o=o.decode(e,t));r<o;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,o=e.reduce(((e,o)=>e+r.encode(o,t,n+e)),0);return this.count instanceof c&&this.count.encode(e.length,t,n),o}}t.Sequence=I;class O extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const t of e)if(0>t.span&&void 0===t.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const o=r.getSpan(e,t);return t+=o,n+o}),0)}catch(e){throw new RangeError("indeterminate span")}return n}decode(e,t=0){o(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n=0){const r=n;let o=0,i=0;for(const r of this.fields){let s=r.span;if(i=0<s?s:0,void 0!==r.property){const o=e[r.property];void 0!==o&&(i=r.encode(o,t,n),0>s&&(s=r.getSpan(t,n)))}o=n,n+=s}return o+i-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}t.Structure=O;class x{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}t.UnionDiscriminator=x;class U extends x{constructor(e,t){if(!(e instanceof c&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}t.UnionLayoutDiscriminator=U;class k extends s{constructor(e,t,n){let r;if(e instanceof l||e instanceof h)r=new U(new d(e));else if(e instanceof c&&e.isCount())r=new U(e);else{if(!(e instanceof x))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof l||e instanceof h)&&(o+=r.layout.span)),super(o,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof l||e instanceof h,this.defaultLayout=t,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return i(e)},this.configGetSourceVariant=function(e){i=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,o=r.decode(e,t),i=this.registry[o];if(void 0===i){const i=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=o,n[i.property]=i.decode(e,t+s)}else n=i.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=r.layout.span),r.encode(e[r.property],t,n),i+o.encode(e[o.property],t,n+i)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new R(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}t.Union=k;class R extends s{constructor(e,t,n,r){if(!(e instanceof k))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=n?n.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let o=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),o+=this.layout.getSpan(t,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function T(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=R;class j extends s{constructor(e,t,n){if(!(e instanceof l||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=T(e),this},this._packedGetValue=function(){return r}}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(n[t.property]=t.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const t of this.fields)if(void 0!==t.property){const n=e[t.property];void 0!==n&&t.encode(n)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new B(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}t.BitStructure=j;class B{constructor(e,t,n){if(!(e instanceof j))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,o=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+o>r)throw new Error("bits too long for span remainder ("+(r-o)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=r-o-t),this.wordMask=T(this.valueMask<<this.start),this.property=n}decode(e,t){return T(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==T(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=T(e<<this.start);this.container._packedSetValue(T(t&~this.wordMask)|n)}}t.BitField=B;class C extends B{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}t.Boolean=C;class P extends s{constructor(e,t){if(!(e instanceof c&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof c||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),i(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof c&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const o=i(e);return i(t).write(o.toString("hex"),n,r,"hex"),this.length instanceof c&&this.length.encode(r,t,n),r}}t.Blob=P;class D extends s{constructor(e){super(-1,e)}getSpan(e,t=0){o(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t=0){const n=this.getSpan(e,t);return i(e).slice(t,t+n-1).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const o=r.Buffer.from(e,"utf8"),s=o.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");const a=i(t);return o.copy(a,n),a[n+s]=0,s+1}}t.CString=D;class z extends s{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return o(e),e.length-t}decode(e,t=0){const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return i(e).slice(t,t+n).toString("utf-8")}encode(e,t,n=0){"string"!=typeof e&&(e=String(e));const o=r.Buffer.from(e,"utf8"),s=o.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(i(t),n),s}}t.UTF8=z;class M extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}t.Constant=M,t.greedy=(e,t)=>new u(e,t),t.offset=(e,t,n)=>new d(e,t,n),t.u8=e=>new l(1,e),t.u16=e=>new l(2,e),t.u24=e=>new l(3,e),t.u32=e=>new l(4,e),t.u40=e=>new l(5,e),t.u48=e=>new l(6,e),t.nu64=e=>new b(e),t.u16be=e=>new h(2,e),t.u24be=e=>new h(3,e),t.u32be=e=>new h(4,e),t.u40be=e=>new h(5,e),t.u48be=e=>new h(6,e),t.nu64be=e=>new m(e),t.s8=e=>new f(1,e),t.s16=e=>new f(2,e),t.s24=e=>new f(3,e),t.s32=e=>new f(4,e),t.s40=e=>new f(5,e),t.s48=e=>new f(6,e),t.ns64=e=>new v(e),t.s16be=e=>new y(2,e),t.s24be=e=>new y(3,e),t.s32be=e=>new y(4,e),t.s40be=e=>new y(5,e),t.s48be=e=>new y(6,e),t.ns64be=e=>new E(e),t.f32=e=>new _(e),t.f32be=e=>new S(e),t.f64=e=>new L(e),t.f64be=e=>new A(e),t.struct=(e,t,n)=>new O(e,t,n),t.bits=(e,t,n)=>new j(e,t,n),t.seq=(e,t,n)=>new I(e,t,n),t.union=(e,t,n)=>new k(e,t,n),t.unionLayoutDiscriminator=(e,t)=>new U(e,t),t.blob=(e,t)=>new P(e,t),t.cstr=e=>new D(e),t.utf8=(e,t)=>new z(e,t),t.constant=(e,t)=>new M(e,t)},24828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publicKey=void 0;const r=n(601),o=n(62643),i=n(27902);t.publicKey=e=>{const t=(0,r.blob)(32,e),{encode:n,decode:s}=(0,i.encodeDecode)(t),a=t;return a.decode=(e,t)=>{const n=s(e,t);return new o.PublicKey(n)},a.encode=(e,t,r)=>{const o=e.toBuffer();return n(o,t,r)},a}},27902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeDecode=void 0,t.encodeDecode=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)})},34771:(e,t,n)=>{"use strict";n.d(t,{Ne:()=>M,fG:()=>D,RP:()=>N,u:()=>K,O0:()=>V});var r=n(68004),o=n(89124),i=n(59405),s=(n(852),n(62643)),a=n(72571),c=n(96763);const u="ERROR_FORBIDDEN_WALLET_BASE_URL";class d extends Error{constructor(...e){const[t,n,r]=e;super(n),this.code=t,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class l extends Error{constructor(...e){const[t,n,r,o]=e;super(r),this.code=n,this.data=o,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function h(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function f(e,t){return h(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),o=new Uint8Array(n.byteLength+r.byteLength);return o.set(new Uint8Array(n),0),o.set(new Uint8Array(r),n.byteLength),o}))}const y="solana:cloneAuthorization";function p(e,t){return new Proxy({},{get:(n,r)=>(null==n[r]&&(n[r]=function(n){return h(this,void 0,void 0,(function*(){const{method:o,params:i}=function(e,t,n){let r=t,o=e.toString().replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)).toLowerCase();switch(e){case"authorize":{let{chain:e}=r;if("legacy"===n){switch(e){case"solana:testnet":e="testnet";break;case"solana:devnet":e="devnet";break;case"solana:mainnet":e="mainnet-beta";break;default:e=r.cluster}r.cluster=e}else{switch(e){case"testnet":case"devnet":e=`solana:${e}`;break;case"mainnet-beta":e="solana:mainnet"}r.chain=e}}case"reauthorize":{const{auth_token:e,identity:t}=r;e&&("legacy"===n?(o="reauthorize",r={auth_token:e,identity:t}):o="authorize");break}}return{method:o,params:r}}(r,n,e),s=yield t(o,i);return"authorize"===o&&i.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield function(e,t,n){var r;return h(this,void 0,void 0,(function*(){const o=null!==(r=e.domain)&&void 0!==r?r:window.location.host,i=t.accounts[0].address,s=(c=Object.assign(Object.assign({},e),{domain:o,address:i}),u=function(e){return(0,a.d4)(e)}(c),window.btoa(u));var c,u;return{address:i,signed_message:s,signature:(yield n("sign_messages",{addresses:[i],payloads:[s]})).signed_payloads[0].slice(s.length)}}))}(i.sign_in_payload,s,t)),function(e,t,n){if("getCapabilities"===e){const e=t;switch(n){case"legacy":{const t=["solana:signTransactions"];return!0===e.supports_clone_authorization&&t.push(y),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(y)})}}return t}(r,s,e)}))}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}function w(e,t){return h(this,void 0,void 0,(function*(){const n=e.slice(0,4),r=e.slice(4,16),o=e.slice(16),i=yield crypto.subtle.decrypt(g(n,r),t,o);return(void 0===b&&(b=new TextDecoder("utf-8")),b).decode(i)}))}function g(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let b;function m(){return h(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}function v(e,t){return h(this,void 0,void 0,(function*(){return function(e,t,n){return h(this,void 0,void 0,(function*(){const r=function(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}(t),o=new Uint8Array(12);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(g(r,o),n,(new TextEncoder).encode(e)),s=new Uint8Array(r.byteLength+o.byteLength+i.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(o),r.byteLength),s.set(new Uint8Array(i),r.byteLength+o.byteLength),s}))}(JSON.stringify(e),e.id,t)}))}function E(e){if(e<49152||e>65535)throw new d("ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function _(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}let S=null;function L(e,t){return h(this,void 0,void 0,(function*(){const n=E(49152+Math.floor(16384*Math.random())),r=yield function(e,t,n,r=["v1"]){return h(this,void 0,void 0,(function*(){const o=E(t),i=function(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let e=0;e<r;e++)t+=String.fromCharCode(n[e]);return window.btoa(t)}(yield crypto.subtle.exportKey("raw",e)),s=function(e,t){let n=null;if(t){try{n=new URL(t)}catch(e){}if("https:"!==(null==n?void 0:n.protocol))throw new d(u,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("solana-wallet:/"));const r=e.startsWith("/")?e:[..._(n.pathname),..._(e)].join("/");return new URL(r,n)}("v1/associate/local",n);return s.searchParams.set("association",i.replace(/[/+=]/g,(e=>({"/":"_","+":"-","=":"."}[e])))),s.searchParams.set("port",`${o}`),r.forEach((e=>{s.searchParams.set("v",e)})),s}))}(e,n,t);return yield function(e){return h(this,void 0,void 0,(function*(){if("https:"===e.protocol)window.location.assign(e);else try{switch(-1!==navigator.userAgent.indexOf("Firefox/")?0:1){case 0:t=e,null==S&&(S=document.createElement("iframe"),S.style.display="none",document.body.appendChild(S)),S.contentWindow.location.href=t.toString();break;case 1:{const t=new Promise(((e,t)=>{function n(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const o=setTimeout((()=>{n(),t()}),2e3)}));window.location.assign(e),yield t;break}}}catch(e){throw new d("ERROR_WALLET_NOT_FOUND","Found no installed wallet that supports the mobile wallet protocol.")}var t}))}(r),n}))}const A={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function I(e){return new DataView(e).getUint32(0,!1)}var O=n(69285);function x(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function U(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function k(e){return window.btoa(String.fromCharCode.call(null,...e))}function R(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}function T(e){return k("version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function j(e){const t=e[0]*s.SIGNATURE_LENGTH_IN_BYTES+1;return"legacy"===s.VersionedMessage.deserializeMessageVersion(e.slice(t,e.length))?s.Transaction.from(e):s.VersionedTransaction.deserialize(e)}function B(e,t){return U(this,void 0,void 0,(function*(){return yield function(e,t){return h(this,void 0,void 0,(function*(){!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new d("ERROR_SECURE_CONTEXT_REQUIRED","The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return h(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}(),r=`ws://localhost:${yield L(n.publicKey,null==t?void 0:t.baseUri)}/solana-wallet`;let o;const i=(()=>{const e=[...A.retryDelayScheduleMs];return()=>e.length>1?e.shift():e[0]})();let s=1,a=0,y={__type:"disconnected"};return new Promise(((t,g)=>{let b;const E={},_=()=>h(this,void 0,void 0,(function*(){if("connecting"!==y.__type)return void c.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${y.__type}\`.`);b.removeEventListener("open",_);const{associationKeypair:e}=y,t=yield m();b.send(yield f(t.publicKey,e.privateKey)),y={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:t.privateKey}})),S=e=>{e.wasClean?y={__type:"disconnected"}:g(new d("ERROR_SESSION_CLOSED",`The wallet session dropped unexpectedly (${e.code}: ${e.reason}).`,{closeEvent:e})),x()},L=e=>h(this,void 0,void 0,(function*(){x(),Date.now()-o>=A.timeoutMs?g(new d("ERROR_SESSION_TIMEOUT",`Failed to connect to the wallet websocket at ${r}.`)):(yield new Promise((e=>{const t=i();U=window.setTimeout(e,t)})),k())})),O=r=>h(this,void 0,void 0,(function*(){const o=yield r.data.arrayBuffer();switch(y.__type){case"connecting":if(0!==o.byteLength)throw new Error("Encountered unexpected message while connecting");const r=yield m();b.send(yield f(r.publicKey,n.privateKey)),y={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:r.privateKey};break;case"connected":try{const e=I(o.slice(0,4));if(e!==a+1)throw new Error("Encrypted message has invalid sequence number");a=e;const t=yield function(e,t){return h(this,void 0,void 0,(function*(){const n=yield w(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new l(r.id,r.error.code,r.error.message);return r}))}(o,y.sharedSecret),n=E[t.id];delete E[t.id],n.resolve(t.result)}catch(e){if(!(e instanceof l))throw e;{const t=E[e.jsonRpcMessageId];delete E[e.jsonRpcMessageId],t.reject(e)}}break;case"hello_req_sent":{if(0===o.byteLength){const e=yield m();b.send(yield f(e.publicKey,n.privateKey)),y={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:e.privateKey};break}const r=yield function(e,t,n){return h(this,void 0,void 0,(function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},n,256),s=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}(o,y.associationPublicKey,y.ecdhPrivateKey),i=o.slice(65),c=0!==i.byteLength?yield(()=>h(this,void 0,void 0,(function*(){const e=I(i.slice(0,4));if(e!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=e,function(e,t){return h(this,void 0,void 0,(function*(){const n=yield w(e,t),r=JSON.parse(n);let o="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":o="v1";break;case"legacy":o="legacy";break;default:throw new d("ERROR_INVALID_PROTOCOL_VERSION",`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:o}}))}(i,r)})))():{protocol_version:"legacy"};y={__type:"connected",sharedSecret:r,sessionProperties:c};const l=p(c.protocol_version,((e,t)=>h(this,void 0,void 0,(function*(){const n=s++;return b.send(yield v({id:n,jsonrpc:"2.0",method:e,params:null!=t?t:{}},r)),new Promise(((t,r)=>{E[n]={resolve(n){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:e}=n;if(null!=e)try{!function(e){let t;try{t=new URL(e)}catch(e){throw new d(u,"Invalid base URL supplied by wallet")}if("https:"!==t.protocol)throw new d(u,"Base URLs supplied by wallets must be valid `https` URLs")}(e)}catch(e){return void r(e)}break}}t(n)},reject:r}}))}))));try{t(yield e(l))}catch(e){g(e)}finally{x(),b.close()}break}}}));let x,U;const k=()=>{x&&x(),y={__type:"connecting",associationKeypair:n},void 0===o&&(o=Date.now()),b=new WebSocket(r,["com.solana.mobilewalletadapter.v1"]),b.addEventListener("open",_),b.addEventListener("close",S),b.addEventListener("error",L),b.addEventListener("message",O),x=()=>{window.clearTimeout(U),b.removeEventListener("open",_),b.removeEventListener("close",S),b.removeEventListener("error",L),b.removeEventListener("message",O)}};k()}))}))}((t=>{const n=new Proxy({},{get(e,n){if(null==e[n])switch(n){case"signAndSendTransactions":e[n]=function(e){var{minContextSlot:n,commitment:r,skipPreflight:o,maxRetries:i,waitForCommitmentToSendNextTransaction:s,transactions:a}=e,c=x(e,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return U(this,void 0,void 0,(function*(){const e=a.map(T),u={min_context_slot:n,commitment:r,skip_preflight:o,max_retries:i,wait_for_commitment_to_send_next_transaction:s},{signatures:d}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},c),Object.values(u).some((e=>null!=e))?{options:u}:null),{payloads:e}));return d.map(R).map(O.encode)}))};break;case"signMessages":e[n]=function(e){var{payloads:n}=e,r=x(e,["payloads"]);return U(this,void 0,void 0,(function*(){const e=n.map(k),{signed_payloads:o}=yield t.signMessages(Object.assign(Object.assign({},r),{payloads:e}));return o.map(R)}))};break;case"signTransactions":e[n]=function(e){var{transactions:n}=e,r=x(e,["transactions"]);return U(this,void 0,void 0,(function*(){const e=n.map(T),{signed_payloads:o}=yield t.signTransactions(Object.assign(Object.assign({},r),{payloads:e}));return o.map(R).map(j)}))};break;default:e[n]=t[n]}return e[n]},defineProperty:()=>!1,deleteProperty:()=>!1});return e(n)}),t)}))}function C(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function P(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}n(87583),n(13293),n(96763);const D="Mobile Wallet Adapter";function z(e){return"version"in e}class M extends r.Xl{constructor(e){var t;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=D,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?o.Ok.Loadable:o.Ok.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._chain=null!==(t=e.chain)&&void 0!==t?t:function(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}(e.cluster),this._hostAuthority=e.remoteHostAuthority,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==o.Ok.Unsupported&&this._authorizationResultCache.get().then((e=>{e&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(e){const t=P(e);return new s.PublicKey(t)}(this._selectedAddress)}catch(e){throw new i.Kd(e instanceof Error&&(null==e?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==o.Ok.Installed&&this.emit("readyStateChange",this._readyState=o.Ok.Installed)}runWithGuard(e){return C(this,void 0,void 0,(function*(){try{return yield e()}catch(e){throw this.emit("error",e),e}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return C(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return C(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){if(this._readyState!==o.Ok.Installed&&this._readyState!==o.Ok.Loadable)throw new i.AE;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new i.Y6(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}connect(){return C(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){if(this._readyState!==o.Ok.Installed&&this._readyState!==o.Ok.Loadable)throw new i.AE;this._connecting=!0;try{yield this.performAuthorization()}catch(e){throw new i.Y6(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}performAuthorization(e){return C(this,void 0,void 0,(function*(){try{const t=yield this._authorizationResultCache.get();return t?(this.handleAuthorizationResult(t),t):yield this.transact((t=>C(this,void 0,void 0,(function*(){const n=yield t.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:e});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))))}catch(e){throw new i.Y6(e instanceof Error&&e.message||"Unknown error",e)}}))}handleAuthorizationResult(e){var t;return C(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(t=this._authorizationResult)||void 0===t?void 0:t.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some(((t,n)=>t.address!==e.accounts[n].address));if(this._authorizationResult=e,this.declareWalletAsInstalled(),n){const t=yield this._addressSelector.select(e.accounts.map((({address:e})=>e)));t!==this._selectedAddress&&(this._selectedAddress=t,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(e,t){return C(this,void 0,void 0,(function*(){try{const n=yield e.authorize({auth_token:t,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(e){throw this.disconnect(),new i.PQ(e instanceof Error&&(null==e?void 0:e.message)||"Unknown error",e)}}))}disconnect(){return C(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(e){var t;return C(this,void 0,void 0,(function*(){const n=null===(t=this._authorizationResult)||void 0===t?void 0:t.wallet_uri_base,r=n?{baseUri:n}:void 0,o=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,i=this._connectionGeneration;try{return yield B(e,Object.assign(Object.assign({},r),o))}catch(e){throw this._connectionGeneration!==i&&(yield new Promise((()=>{}))),e instanceof Error&&"SolanaMobileWalletAdapterError"===e.name&&"ERROR_WALLET_NOT_FOUND"===e.code&&(yield this._onWalletNotFound(this)),e}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new i.kW;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return C(this,void 0,void 0,(function*(){const{authToken:t}=this.assertIsAuthorized();try{return yield this.transact((n=>C(this,void 0,void 0,(function*(){return yield this.performReauthorization(n,t),yield n.signTransactions({transactions:e})}))))}catch(e){throw new i.z4(null==e?void 0:e.message,e)}}))}sendTransaction(e,t,n){return C(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){const{authToken:r}=this.assertIsAuthorized(),o=null==n?void 0:n.minContextSlot;try{return yield this.transact((i=>C(this,void 0,void 0,(function*(){function s(){let e,r;switch(t.commitment){case"confirmed":case"finalized":case"processed":e=t.commitment;break;default:e="finalized"}switch(null==n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=e;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===e?2:"confirmed"===e?1:0)?r:e}const[a,c,u]=yield Promise.all([i.getCapabilities(),this.performReauthorization(i,r),z(e)?null:(()=>C(this,void 0,void 0,(function*(){var n;if(e.feePayer||(e.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==e.recentBlockhash){const{blockhash:n}=yield t.getLatestBlockhash({commitment:s()});e.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions)return(yield i.signAndSendTransactions({minContextSlot:o,transactions:[e]}))[0];{const[r]=yield i.signTransactions({transactions:[e]});if(z(r))return yield t.sendTransaction(r);{const e=r.serialize();return yield t.sendRawTransaction(e,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}))))}catch(e){throw new i.UF(null==e?void 0:e.message,e)}}))))}))}signTransaction(e){return C(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){const[t]=yield this.performSignTransactions([e]);return t}))))}))}signAllTransactions(e){return C(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){return yield this.performSignTransactions(e)}))))}))}signMessage(e){return C(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){const{authToken:t,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>C(this,void 0,void 0,(function*(){yield this.performReauthorization(r,t);const[o]=yield r.signMessages({addresses:[n],payloads:[e]});return o.slice(-64)}))))}catch(e){throw new i.K3(null==e?void 0:e.message,e)}}))))}))}signIn(e){return C(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>C(this,void 0,void 0,(function*(){var t,n;if(this._readyState!==o.Ok.Installed&&this._readyState!==o.Ok.Loadable)throw new i.AE;this._connecting=!0;try{const r=yield this.performAuthorization(Object.assign(Object.assign({},e),{domain:null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const o=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find((e=>e.address==o)))&&void 0!==n?n:{address:o}),{publicKey:P(o)}),signedMessage:P(r.sign_in_result.signed_message),signature:P(r.sign_in_result.signature)}}catch(e){throw new i.Y6(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}}function N(){return{select(e){return C(this,void 0,void 0,(function*(){return e[0]}))}}}r.Xl;const F="SolanaMobileWalletAdapterDefaultAuthorizationCache";function K(){let e;try{e=window.localStorage}catch(e){}return{clear(){return C(this,void 0,void 0,(function*(){if(e)try{e.removeItem(F)}catch(e){}}))},get(){return C(this,void 0,void 0,(function*(){if(e)try{return JSON.parse(e.getItem(F))||void 0}catch(e){}}))},set(t){return C(this,void 0,void 0,(function*(){if(e)try{e.setItem(F,JSON.stringify(t))}catch(e){}}))}}}function W(e){return C(this,void 0,void 0,(function*(){"undefined"!=typeof window&&window.location.assign(e.url)}))}function V(){return W}},46748:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decimal=t.WAD=void 0;const o=r(n(61594)),i=n(27902),s=n(84324);t.WAD=new o.default("1e+18"),t.decimal=e=>{const n=(0,s.u128)(e),{encode:r,decode:a}=(0,i.encodeDecode)(n),c=n;return c.decode=(e,n)=>{const r=a(e,n).toString();return new o.default(r).div(t.WAD)},c.encode=(e,n,o)=>{const i=BigInt(e.times(t.WAD).integerValue().toString());return r(i,n,o)},c}},48685:(e,t,n)=>{"use strict";n.d(t,{lc:()=>d,jE:()=>h,_l:()=>u});var r=n(601),o=n(30184);const i=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var s=n(48287).Buffer;const a=e=>t=>{const n=(0,r.blob)(e,t),{encode:a,decode:c}=i(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,o.toBigIntLE)(s.from(n))},u.encode=(t,n,r)=>{const i=(0,o.toBufferLE)(t,e);return a(i,n,r)},u},c=e=>t=>{const n=(0,r.blob)(e,t),{encode:a,decode:c}=i(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,o.toBigIntBE)(s.from(n))},u.encode=(t,n,r)=>{const i=(0,o.toBufferBE)(t,e);return a(i,n,r)},u},u=a(8);c(8),a(16),c(16),a(24),c(24),a(32),c(32),new(n(60346).A)("1e+18");const d=e=>{const t=(0,r.u8)(e),{encode:n,decode:o}=i(t),s=t;return s.decode=(e,t)=>!!o(e,t),s.encode=(e,t,r)=>{const o=Number(e);return n(o,t,r)},s};var l=n(62643);const h=e=>{const t=(0,r.blob)(32,e),{encode:n,decode:o}=i(t),s=t;return s.decode=(e,t)=>{const n=o(e,t);return new l.PublicKey(n)},s.encode=(e,t,r)=>{const o=e.toBuffer();return n(o,t,r)},s}},51916:e=>{!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),o={change:r.fullscreenchange,error:r.fullscreenerror},i={request:function(e,n){return new Promise(function(o,i){var s=function(){this.off("change",s),o()}.bind(this);this.on("change",s);var a=(e=e||t.documentElement)[r.requestFullscreen](n);a instanceof Promise&&a.then(s).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var o=function(){this.off("change",o),e()}.bind(this);this.on("change",o);var i=t[r.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else e()}.bind(this))},toggle:function(e,t){return this.isFullscreen?this.exit():this.request(e,t)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=o[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=o[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=i:window.screenfull=i):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},66884:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,k:()=>s});var r=0,o={},i=function(e,t){var n,i=r++;if(o[t])o[t].listeners[i]=e;else{var s=setInterval((function(){for(var e,n=o[t].listeners,r=!1,i=0,s=Object.values(n);i<s.length;i++){var a=s[i];try{a()}catch(t){r=!0,e=t}}if(r)throw e}),t);o[t]={ms:t,timer:s,listeners:(n={},n[i]=e,n)}}return{bucket:o[t],id:i}},s=function(e){var t=e.bucket,n=e.id;delete t.listeners[n];var r=!1;for(var i in t.listeners){r=!0;break}r||(clearInterval(t.timer),delete o[t.ms])}},67408:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bool=void 0;const r=n(601),o=n(27902);t.bool=e=>{const t=(0,r.u8)(e),{encode:n,decode:i}=(0,o.encodeDecode)(t),s=t;return s.decode=(e,t)=>!!i(e,t),s.encode=(e,t,r)=>{const o=Number(e);return n(o,t,r)},s}},69285:(e,t,n)=>{const r=n(76574);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},76574:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var o=e.charAt(r),i=o.charCodeAt(0);if(255!==t[i])throw new TypeError(o+" is ambiguous");t[i]=r}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,o=0;e[n]===a;)r++,n++;for(var i=(e.length-n)*c+1>>>0,u=new Uint8Array(i);e[n];){var d=e.charCodeAt(n);if(d>255)return;var l=t[d];if(255===l)return;for(var h=0,f=i-1;(0!==l||h<o)&&-1!==f;f--,h++)l+=s*u[f]>>>0,u[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=h,n++}for(var y=i-o;y!==i&&0===u[y];)y++;for(var p=new Uint8Array(r+(i-y)),w=r;y!==i;)p[w++]=u[y++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var c=(i-o)*u+1>>>0,d=new Uint8Array(c);o!==i;){for(var l=t[o],h=0,f=c-1;(0!==l||h<r)&&-1!==f;f--,h++)l+=256*d[f]>>>0,d[f]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");r=h,o++}for(var y=c-r;y!==c&&0===d[y];)y++;for(var p=a.repeat(n);y<c;++y)p+=e.charAt(d[y]);return p},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},77475:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(27902),t),o(n(84324),t),o(n(46748),t),o(n(67408),t),o(n(24828),t)},84324:(e,t,n)=>{"use strict";var r=n(48287).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.u256be=t.u256=t.u192be=t.u192=t.u128be=t.u128=t.u64be=t.u64=t.bigIntBE=t.bigInt=void 0;const o=n(601),i=n(30184),s=n(27902);t.bigInt=e=>t=>{const n=(0,o.blob)(e,t),{encode:a,decode:c}=(0,s.encodeDecode)(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,i.toBigIntLE)(r.from(n))},u.encode=(t,n,r)=>{const o=(0,i.toBufferLE)(t,e);return a(o,n,r)},u},t.bigIntBE=e=>t=>{const n=(0,o.blob)(e,t),{encode:a,decode:c}=(0,s.encodeDecode)(n),u=n;return u.decode=(e,t)=>{const n=c(e,t);return(0,i.toBigIntBE)(r.from(n))},u.encode=(t,n,r)=>{const o=(0,i.toBufferBE)(t,e);return a(o,n,r)},u},t.u64=(0,t.bigInt)(8),t.u64be=(0,t.bigIntBE)(8),t.u128=(0,t.bigInt)(16),t.u128be=(0,t.bigIntBE)(16),t.u192=(0,t.bigInt)(24),t.u192be=(0,t.bigIntBE)(24),t.u256=(0,t.bigInt)(32),t.u256be=(0,t.bigIntBE)(32)},92861:(e,t,n)=>{var r=n(48287),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s),s.prototype=Object.create(o.prototype),i(o,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}}}]);
//# sourceMappingURL=main-4.0.1-385.js.map